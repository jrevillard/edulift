
> frontend@0.0.0 test
> vitest


 DEV  v3.2.3 /workspace/frontend

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Network Errors - Should NOT require family > should NOT set requiresFamily to true on Failed to fetch errors
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Network Errors - Should NOT require family > should NOT set requiresFamily to true on Failed to fetch errors
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stderr | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Network Errors - Should NOT require family > should NOT set requiresFamily to true on Failed to fetch errors
üîç DEBUG FAMILYCONTEXT: Failed to load user family: Error: Failed to fetch
    at [90m/workspace/frontend/[39msrc/contexts/__tests__/FamilyContext.networkError.test.tsx:62:9
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Network Errors - Should NOT require family > should NOT set requiresFamily to true on Failed to fetch errors
üîç DEBUG FAMILYCONTEXT: isNetworkError = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: error.message = Failed to fetch

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Network Errors - Should NOT require family > should NOT set requiresFamily to true on Failed to fetch errors
üîç DEBUG FAMILYCONTEXT: Setting error state to: Failed to fetch

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Network Errors - Should NOT require family > should NOT set requiresFamily to true on connection refused errors
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Network Errors - Should NOT require family > should NOT set requiresFamily to true on connection refused errors
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stderr | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Network Errors - Should NOT require family > should NOT set requiresFamily to true on connection refused errors
üîç DEBUG FAMILYCONTEXT: Failed to load user family: Error: ERR_CONNECTION_REFUSED
    at [90m/workspace/frontend/[39msrc/contexts/__tests__/FamilyContext.networkError.test.tsx:87:9
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Network Errors - Should NOT require family > should NOT set requiresFamily to true on connection refused errors
üîç DEBUG FAMILYCONTEXT: isNetworkError = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: error.message = ERR_CONNECTION_REFUSED

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Network Errors - Should NOT require family > should NOT set requiresFamily to true on connection refused errors
üîç DEBUG FAMILYCONTEXT: Setting error state to: ERR_CONNECTION_REFUSED

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Network Errors - Should NOT require family > should NOT set requiresFamily to true on NetworkError
üîç DEBUG TEST: Setting up NetworkError mock
üîç DEBUG TEST: Mock getCurrentFamily calls: []
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m
üîç DEBUG TEST: Waiting for family checking to complete...
üîç DEBUG TEST: is-checking.textContent = false
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stderr | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Network Errors - Should NOT require family > should NOT set requiresFamily to true on NetworkError
üîç DEBUG FAMILYCONTEXT: Failed to load user family: Error: NetworkError
    at [90m/workspace/frontend/[39msrc/contexts/__tests__/FamilyContext.networkError.test.tsx:112:9
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Network Errors - Should NOT require family > should NOT set requiresFamily to true on NetworkError
üîç DEBUG FAMILYCONTEXT: isNetworkError = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: error.message = NetworkError

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Network Errors - Should NOT require family > should NOT set requiresFamily to true on NetworkError
üîç DEBUG FAMILYCONTEXT: Setting error state to: NetworkError

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Network Errors - Should NOT require family > should NOT set requiresFamily to true on NetworkError
üîç DEBUG TEST: Final assertions
üîç DEBUG TEST: requires-family.textContent = false
üîç DEBUG TEST: error.textContent = NetworkError

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Network Errors - Should NOT require family > should NOT set requiresFamily to true on ERR_NETWORK errors
üîç DEBUG TEST ERR_NETWORK: Setting up mock
üîç DEBUG TEST ERR_NETWORK: Mock setup complete
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m
üîç DEBUG TEST ERR_NETWORK: Starting waitFor
üîç DEBUG TEST ERR_NETWORK: is-checking.textContent = false
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stderr | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Network Errors - Should NOT require family > should NOT set requiresFamily to true on ERR_NETWORK errors
üîç DEBUG FAMILYCONTEXT: Failed to load user family: Error: ERR_NETWORK
    at [90m/workspace/frontend/[39msrc/contexts/__tests__/FamilyContext.networkError.test.tsx:145:9
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Network Errors - Should NOT require family > should NOT set requiresFamily to true on ERR_NETWORK errors
üîç DEBUG FAMILYCONTEXT: isNetworkError = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: error.message = ERR_NETWORK

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Network Errors - Should NOT require family > should NOT set requiresFamily to true on ERR_NETWORK errors
üîç DEBUG FAMILYCONTEXT: Setting error state to: ERR_NETWORK

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Network Errors - Should NOT require family > should NOT set requiresFamily to true on ERR_NETWORK errors
üîç DEBUG TEST ERR_NETWORK: waitFor completed
üîç DEBUG TEST ERR_NETWORK: requires-family.textContent = false
üîç DEBUG TEST ERR_NETWORK: error.textContent = ERR_NETWORK

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Network Errors - Should NOT require family > should NOT set requiresFamily to true on 500 server errors
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Network Errors - Should NOT require family > should NOT set requiresFamily to true on 500 server errors
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stderr | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Network Errors - Should NOT require family > should NOT set requiresFamily to true on 500 server errors
üîç DEBUG FAMILYCONTEXT: Failed to load user family: Error: 500 Internal Server Error
    at [90m/workspace/frontend/[39msrc/contexts/__tests__/FamilyContext.networkError.test.tsx:179:9
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Network Errors - Should NOT require family > should NOT set requiresFamily to true on 500 server errors
üîç DEBUG FAMILYCONTEXT: isNetworkError = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: error.message = 500 Internal Server Error

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Network Errors - Should NOT require family > should NOT set requiresFamily to true on 500 server errors
üîç DEBUG FAMILYCONTEXT: Setting error state to: 500 Internal Server Error

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Network Errors - Should NOT require family > should NOT set requiresFamily to true on 502/503/504 errors
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Network Errors - Should NOT require family > should NOT set requiresFamily to true on 502/503/504 errors
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stderr | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Network Errors - Should NOT require family > should NOT set requiresFamily to true on 502/503/504 errors
üîç DEBUG FAMILYCONTEXT: Failed to load user family: Error: 503 Service Unavailable
    at [90m/workspace/frontend/[39msrc/contexts/__tests__/FamilyContext.networkError.test.tsx:203:9
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Network Errors - Should NOT require family > should NOT set requiresFamily to true on 502/503/504 errors
üîç DEBUG FAMILYCONTEXT: isNetworkError = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: error.message = 503 Service Unavailable

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Network Errors - Should NOT require family > should NOT set requiresFamily to true on 502/503/504 errors
üîç DEBUG FAMILYCONTEXT: Setting error state to: 503 Service Unavailable

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Non-Network Errors - Should require family > should set requiresFamily to true on authentication errors
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Non-Network Errors - Should require family > should set requiresFamily to true on authentication errors
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stderr | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Non-Network Errors - Should require family > should set requiresFamily to true on authentication errors
üîç DEBUG FAMILYCONTEXT: Failed to load user family: Error: Unauthorized
    at [90m/workspace/frontend/[39msrc/contexts/__tests__/FamilyContext.networkError.test.tsx:229:9
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Non-Network Errors - Should require family > should set requiresFamily to true on authentication errors
üîç DEBUG FAMILYCONTEXT: isNetworkError = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: error.message = Unauthorized

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Non-Network Errors - Should require family > should set requiresFamily to true on authentication errors
üîç DEBUG FAMILYCONTEXT: Setting error state to: Unauthorized

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Non-Network Errors - Should require family > should set requiresFamily to true on permission errors
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Non-Network Errors - Should require family > should set requiresFamily to true on permission errors
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stderr | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Non-Network Errors - Should require family > should set requiresFamily to true on permission errors
üîç DEBUG FAMILYCONTEXT: Failed to load user family: Error: Forbidden
    at [90m/workspace/frontend/[39msrc/contexts/__tests__/FamilyContext.networkError.test.tsx:253:9
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Non-Network Errors - Should require family > should set requiresFamily to true on permission errors
üîç DEBUG FAMILYCONTEXT: isNetworkError = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: error.message = Forbidden

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Non-Network Errors - Should require family > should set requiresFamily to true on permission errors
üîç DEBUG FAMILYCONTEXT: Setting error state to: Forbidden

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Non-Network Errors - Should require family > should set requiresFamily to true on not found errors
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Non-Network Errors - Should require family > should set requiresFamily to true on not found errors
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stderr | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Non-Network Errors - Should require family > should set requiresFamily to true on not found errors
üîç DEBUG FAMILYCONTEXT: Failed to load user family: Error: User not found in family system
    at [90m/workspace/frontend/[39msrc/contexts/__tests__/FamilyContext.networkError.test.tsx:277:9
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Non-Network Errors - Should require family > should set requiresFamily to true on not found errors
üîç DEBUG FAMILYCONTEXT: isNetworkError = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: error.message = User not found in family system

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Non-Network Errors - Should require family > should set requiresFamily to true on not found errors
üîç DEBUG FAMILYCONTEXT: Setting error state to: User not found in family system

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Success Cases > should set requiresFamily to true when family is null (no error)
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Success Cases > should set requiresFamily to true when family is null (no error)
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Success Cases > should set requiresFamily to true when family is null (no error)
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = [1mnull[22m

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Success Cases > should set requiresFamily to false when user has a family
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Success Cases > should set requiresFamily to false when user has a family
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/contexts/__tests__/FamilyContext.networkError.test.tsx > FamilyContext - Network Error Handling > Success Cases > should set requiresFamily to false when user has a family
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family-1'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'TEST123'[39m,
  createdAt: [32m'2024-01-01T00:00:00Z'[39m,
  updatedAt: [32m'2024-01-01T00:00:00Z'[39m,
  members: [],
  children: [],
  vehicles: []
}

 ‚úì src/contexts/__tests__/FamilyContext.networkError.test.tsx (11 tests) 101ms
stdout | src/pages/__tests__/ManageFamilyPage.test.tsx > ManageFamilyPage > Page Layout > should render the page header and navigation
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m3[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'parent@test.com'[39m, role: [32m'PARENT'[39m },
    { id: [32m'member-3'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/pages/__tests__/ManageFamilyPage.test.tsx > ManageFamilyPage > Page Layout > should navigate back to dashboard when back button is clicked
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m3[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'parent@test.com'[39m, role: [32m'PARENT'[39m },
    { id: [32m'member-3'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Basic Rendering > renders loading state initially
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stderr | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Basic Rendering > renders loading state initially
An update to FamilyProvider inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Basic Rendering > renders loading state initially
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Basic Rendering > renders loading state initially
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family-1'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stderr | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Basic Rendering > renders loading state initially
An update to FamilyProvider inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Basic Rendering > renders group information correctly
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Basic Rendering > renders group information correctly
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Basic Rendering > renders group information correctly
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family-1'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stdout | src/pages/__tests__/ManageFamilyPage.test.tsx > ManageFamilyPage > Family Information > should display family name and stats
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m3[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'parent@test.com'[39m, role: [32m'PARENT'[39m },
    { id: [32m'member-3'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Basic Rendering > displays families list with correct information
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Basic Rendering > displays families list with correct information
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Basic Rendering > displays families list with correct information
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family-1'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stdout | src/pages/__tests__/ManageFamilyPage.test.tsx > ManageFamilyPage > Family Information > should show admin role badge for admin users
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m3[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'parent@test.com'[39m, role: [32m'PARENT'[39m },
    { id: [32m'member-3'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Basic Rendering > navigates back to groups page when back button is clicked
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Basic Rendering > navigates back to groups page when back button is clicked
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Basic Rendering > navigates back to groups page when back button is clicked
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family-1'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stdout | src/pages/__tests__/ManageFamilyPage.test.tsx > ManageFamilyPage > Member Management > should display all family members with their roles
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m3[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'parent@test.com'[39m, role: [32m'PARENT'[39m },
    { id: [32m'member-3'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/pages/__tests__/ManageFamilyPage.test.tsx > ManageFamilyPage > Member Management > should show invite button for admin users
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m3[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'parent@test.com'[39m, role: [32m'PARENT'[39m },
    { id: [32m'member-3'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/pages/__tests__/ManageFamilyPage.test.tsx > ManageFamilyPage > Member Management > should open invite member dialog when invite button is clicked
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m3[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'parent@test.com'[39m, role: [32m'PARENT'[39m },
    { id: [32m'member-3'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Admin Features > shows admin-only features for admin users
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Admin Features > shows admin-only features for admin users
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Admin Features > shows admin-only features for admin users
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family-1'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Admin Features > hides admin features for non-admin users
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Admin Features > hides admin features for non-admin users
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Admin Features > hides admin features for non-admin users
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family-1'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Family Management > shows family role badges correctly
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Family Management > shows family role badges correctly
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Family Management > shows family role badges correctly
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family-1'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stdout | src/pages/__tests__/ManageFamilyPage.test.tsx > ManageFamilyPage > Member Management > should send invitation when form is submitted
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m3[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'parent@test.com'[39m, role: [32m'PARENT'[39m },
    { id: [32m'member-3'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Family Management > updates family role successfully
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Family Management > updates family role successfully
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Family Management > updates family role successfully
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family-1'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stdout | src/pages/__tests__/ManageFamilyPage.test.tsx > ManageFamilyPage > Role Management > should display member menu buttons for each member
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m3[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'parent@test.com'[39m, role: [32m'PARENT'[39m },
    { id: [32m'member-3'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/pages/__tests__/ManageFamilyPage.test.tsx > ManageFamilyPage > Role Management > should have role change functionality available
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m3[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'parent@test.com'[39m, role: [32m'PARENT'[39m },
    { id: [32m'member-3'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/pages/__tests__/ManageFamilyPage.test.tsx > ManageFamilyPage > Role Management > should have update member role functionality
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m3[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'parent@test.com'[39m, role: [32m'PARENT'[39m },
    { id: [32m'member-3'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/pages/__tests__/ManageFamilyPage.test.tsx > ManageFamilyPage > Member Removal > should have member removal functionality available
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m3[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'parent@test.com'[39m, role: [32m'PARENT'[39m },
    { id: [32m'member-3'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stderr | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Family Management > updates family role successfully
In HTML, <p> cannot be a descendant of <p>.
This will cause a hydration error.

  ...
    <FocusScope asChild={true} loop={true} trapped={true} onMountAutoFocus={undefined} ...>
      <Primitive.div tabIndex={-1} asChild={true} ref={function} onKeyDown={function}>
        <Primitive.div.Slot tabIndex={-1} onKeyDown={function} ref={function}>
          <Primitive.div.SlotClone tabIndex={-1} onKeyDown={function} ref={function}>
            <DismissableLayer role="dialog" id="radix-¬´r41¬ª" aria-describedby="radix-¬´r43¬ª" aria-labelledby="radix-¬´r42¬ª" ...>
              <Primitive.div role="dialog" id="radix-¬´r41¬ª" aria-describedby="radix-¬´r43¬ª" aria-labelledby="radix-¬´r42¬ª" ...>
                <div role="dialog" id="radix-¬´r41¬ª" aria-describedby="radix-¬´r43¬ª" aria-labelledby="radix-¬´r42¬ª" ...>
                  <DialogHeader>
                    <div data-slot="dialog-header" className="flex flex-...">
                      <DialogTitle>
                      <DialogDescription>
                        <DialogDescription data-slot="dialog-des..." className="text-muted...">
                          <Primitive.p id="radix-¬´r43¬ª" data-slot="dialog-des..." className="text-muted..." ref={null}>
>                           <p
>                             id="radix-¬´r43¬ª"
>                             data-slot="dialog-description"
>                             className="text-muted-foreground text-sm"
>                             ref={null}
>                           >
                              <div className="mt-2 p-3 b...">
>                               <p className="text-sm">
                                ...
                  ...
                  ...
    ...

<p> cannot contain a nested <p>.
See this log for the ancestor stack trace.
In HTML, <ul> cannot be a descendant of <p>.
This will cause a hydration error.

  ...
    <FocusScope asChild={true} loop={true} trapped={true} onMountAutoFocus={undefined} ...>
      <Primitive.div tabIndex={-1} asChild={true} ref={function} onKeyDown={function}>
        <Primitive.div.Slot tabIndex={-1} onKeyDown={function} ref={function}>
          <Primitive.div.SlotClone tabIndex={-1} onKeyDown={function} ref={function}>
            <DismissableLayer role="dialog" id="radix-¬´r41¬ª" aria-describedby="radix-¬´r43¬ª" aria-labelledby="radix-¬´r42¬ª" ...>
              <Primitive.div role="dialog" id="radix-¬´r41¬ª" aria-describedby="radix-¬´r43¬ª" aria-labelledby="radix-¬´r42¬ª" ...>
                <div role="dialog" id="radix-¬´r41¬ª" aria-describedby="radix-¬´r43¬ª" aria-labelledby="radix-¬´r42¬ª" ...>
                  <DialogHeader>
                    <div data-slot="dialog-header" className="flex flex-...">
                      <DialogTitle>
                      <DialogDescription>
                        <DialogDescription data-slot="dialog-des..." className="text-muted...">
                          <Primitive.p id="radix-¬´r43¬ª" data-slot="dialog-des..." className="text-muted..." ref={null}>
>                           <p
>                             id="radix-¬´r43¬ª"
>                             data-slot="dialog-description"
>                             className="text-muted-foreground text-sm"
>                             ref={null}
>                           >
                              <div className="mt-2 p-3 b...">
                                <p>
>                               <ul className="text-sm mt-1 space-y-1">
                  ...
                  ...
    ...

<p> cannot contain a nested <ul>.
See this log for the ancestor stack trace.
In HTML, <div> cannot be a descendant of <p>.
This will cause a hydration error.

  ...
    <FocusScope asChild={true} loop={true} trapped={true} onMountAutoFocus={undefined} ...>
      <Primitive.div tabIndex={-1} asChild={true} ref={function} onKeyDown={function}>
        <Primitive.div.Slot tabIndex={-1} onKeyDown={function} ref={function}>
          <Primitive.div.SlotClone tabIndex={-1} onKeyDown={function} ref={function}>
            <DismissableLayer role="dialog" id="radix-¬´r41¬ª" aria-describedby="radix-¬´r43¬ª" aria-labelledby="radix-¬´r42¬ª" ...>
              <Primitive.div role="dialog" id="radix-¬´r41¬ª" aria-describedby="radix-¬´r43¬ª" aria-labelledby="radix-¬´r42¬ª" ...>
                <div role="dialog" id="radix-¬´r41¬ª" aria-describedby="radix-¬´r43¬ª" aria-labelledby="radix-¬´r42¬ª" ...>
                  <DialogHeader>
                    <div data-slot="dialog-header" className="flex flex-...">
                      <DialogTitle>
                      <DialogDescription>
                        <DialogDescription data-slot="dialog-des..." className="text-muted...">
                          <Primitive.p id="radix-¬´r43¬ª" data-slot="dialog-des..." className="text-muted..." ref={null}>
>                           <p
>                             id="radix-¬´r43¬ª"
>                             data-slot="dialog-description"
>                             className="text-muted-foreground text-sm"
>                             ref={null}
>                           >
>                             <div className="mt-2 p-3 bg-blue-50 rounded-md">
                  ...
                  ...
    ...

<p> cannot contain a nested <div>.
See this log for the ancestor stack trace.

stdout | src/pages/__tests__/ManageFamilyPage.test.tsx > ManageFamilyPage > Member Removal > should have remove member functionality
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m3[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'parent@test.com'[39m, role: [32m'PARENT'[39m },
    { id: [32m'member-3'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/pages/__tests__/ManageFamilyPage.test.tsx > ManageFamilyPage > Leave Family > should not show danger zone for admin users
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m3[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'parent@test.com'[39m, role: [32m'PARENT'[39m },
    { id: [32m'member-3'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Group Deletion > deletes group when admin confirms deletion
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Group Deletion > deletes group when admin confirms deletion
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Group Deletion > deletes group when admin confirms deletion
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family-1'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stdout | src/pages/__tests__/ManageFamilyPage.test.tsx > ManageFamilyPage > Resource Management > should display children and vehicles summaries
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m3[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'parent@test.com'[39m, role: [32m'PARENT'[39m },
    { id: [32m'member-3'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/pages/__tests__/ManageFamilyPage.test.tsx > ManageFamilyPage > Resource Management > should navigate to children page when manage button is clicked
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m3[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'parent@test.com'[39m, role: [32m'PARENT'[39m },
    { id: [32m'member-3'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/pages/__tests__/ManageFamilyPage.test.tsx > ManageFamilyPage > Resource Management > should navigate to vehicles page when manage button is clicked
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m3[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'parent@test.com'[39m, role: [32m'PARENT'[39m },
    { id: [32m'member-3'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/pages/__tests__/ManageFamilyPage.test.tsx > ManageFamilyPage > Family Name Editing > should show edit button next to family name for admin users
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m3[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'parent@test.com'[39m, role: [32m'PARENT'[39m },
    { id: [32m'member-3'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/pages/__tests__/ManageFamilyPage.test.tsx > ManageFamilyPage > Family Name Editing > should open edit family name dialog when edit button is clicked
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m3[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'parent@test.com'[39m, role: [32m'PARENT'[39m },
    { id: [32m'member-3'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Leave Group Functionality > shows leave group button for non-admin users
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Leave Group Functionality > shows leave group button for non-admin users
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Leave Group Functionality > shows leave group button for non-admin users
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family-1'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stdout | src/pages/__tests__/ManageFamilyPage.test.tsx > ManageFamilyPage > Family Name Editing > should update family name input when typing
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m3[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'parent@test.com'[39m, role: [32m'PARENT'[39m },
    { id: [32m'member-3'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Leave Group Functionality > allows non-admin user to leave group successfully
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Leave Group Functionality > allows non-admin user to leave group successfully
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Leave Group Functionality > allows non-admin user to leave group successfully
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family-1'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stdout | src/pages/__tests__/ManageFamilyPage.test.tsx > ManageFamilyPage > Family Name Editing > should show character count
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m3[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'parent@test.com'[39m, role: [32m'PARENT'[39m },
    { id: [32m'member-3'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/pages/__tests__/ManageFamilyPage.test.tsx > ManageFamilyPage > Family Name Editing > should disable save button when name is empty
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m3[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'parent@test.com'[39m, role: [32m'PARENT'[39m },
    { id: [32m'member-3'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Leave Group Functionality > shows error when leave group fails
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Leave Group Functionality > shows error when leave group fails
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Leave Group Functionality > shows error when leave group fails
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family-1'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stdout | src/pages/__tests__/ManageFamilyPage.test.tsx > ManageFamilyPage > Family Name Editing > should disable save button when name is unchanged
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m3[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'parent@test.com'[39m, role: [32m'PARENT'[39m },
    { id: [32m'member-3'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/pages/__tests__/ManageFamilyPage.test.tsx > ManageFamilyPage > Family Name Editing > should enable save button when name is changed
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m3[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'parent@test.com'[39m, role: [32m'PARENT'[39m },
    { id: [32m'member-3'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Leave Group Functionality > does not show leave group button for admin users
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Leave Group Functionality > does not show leave group button for admin users
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Leave Group Functionality > does not show leave group button for admin users
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family-1'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stdout | src/pages/__tests__/ManageFamilyPage.test.tsx > ManageFamilyPage > Family Name Editing > should call updateFamilyName when save button is clicked
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m3[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'parent@test.com'[39m, role: [32m'PARENT'[39m },
    { id: [32m'member-3'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Enhanced Delete Confirmation > requires typing group name to enable delete button
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Enhanced Delete Confirmation > requires typing group name to enable delete button
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Enhanced Delete Confirmation > requires typing group name to enable delete button
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family-1'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stdout | src/pages/__tests__/ManageFamilyPage.test.tsx > ManageFamilyPage > Family Name Editing > should show success message when family name is updated successfully
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m3[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'parent@test.com'[39m, role: [32m'PARENT'[39m },
    { id: [32m'member-3'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/pages/__tests__/ManageFamilyPage.test.tsx > ManageFamilyPage > Family Name Editing > should show error message when family name update fails
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m3[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'parent@test.com'[39m, role: [32m'PARENT'[39m },
    { id: [32m'member-3'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/pages/__tests__/ManageFamilyPage.test.tsx > ManageFamilyPage > Family Name Editing > should close dialog when cancel button is clicked
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m3[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'parent@test.com'[39m, role: [32m'PARENT'[39m },
    { id: [32m'member-3'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/pages/__tests__/ManageFamilyPage.test.tsx > ManageFamilyPage > Family Name Editing > should close dialog and clear input when dialog is closed
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m3[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'parent@test.com'[39m, role: [32m'PARENT'[39m },
    { id: [32m'member-3'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Enhanced Delete Confirmation > keeps delete button disabled if group name does not match
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Enhanced Delete Confirmation > keeps delete button disabled if group name does not match
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Enhanced Delete Confirmation > keeps delete button disabled if group name does not match
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family-1'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stdout | src/pages/__tests__/ManageFamilyPage.test.tsx > ManageFamilyPage > Family Name Editing > should disable save button when family name is empty or whitespace
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m3[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'parent@test.com'[39m, role: [32m'PARENT'[39m },
    { id: [32m'member-3'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/pages/__tests__/ManageFamilyPage.test.tsx > ManageFamilyPage > Family Name Editing > should trim whitespace from family name before submission
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m3[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'parent@test.com'[39m, role: [32m'PARENT'[39m },
    { id: [32m'member-3'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/pages/__tests__/ManageFamilyPage.test.tsx > ManageFamilyPage > Family Name Editing > should disable save button when name is unchanged after trimming
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m3[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'parent@test.com'[39m, role: [32m'PARENT'[39m },
    { id: [32m'member-3'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

 ‚úì src/pages/__tests__/ManageFamilyPage.test.tsx (38 tests) 1965ms
stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Error Handling > shows error state when families loading fails
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Error Handling > shows error state when families loading fails
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Error Handling > shows error state when families loading fails
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family-1'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Invitation Management > should call API to cancel invitation when cancel button is clicked
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Invitation Management > should call API to cancel invitation when cancel button is clicked
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Invitation Management > should call API to cancel invitation when cancel button is clicked
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family-1'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Invitation Management > should show success message after canceling invitation
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Invitation Management > should show success message after canceling invitation
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Invitation Management > should show success message after canceling invitation
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family-1'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > AdminDisplay Component > should display single admin name without tooltip
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > AdminDisplay Component > should display single admin name without tooltip
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > AdminDisplay Component > should display single admin name without tooltip
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family-1'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > AdminDisplay Component > should display multiple admins with tooltip
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > AdminDisplay Component > should display multiple admins with tooltip
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > AdminDisplay Component > should display multiple admins with tooltip
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family-1'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

 ‚úì src/pages/__tests__/ProfilePage.test.tsx (28 tests) 2691ms
   ‚úì ProfilePage > Profile Update > should call authService.updateProfile with correct data  369ms
   ‚úì ProfilePage > Email Validation > should trim whitespace from email and name  327ms
 ‚úì src/components/__tests__/GroupScheduleConfigModal.dataTestId.test.tsx (30 tests) 1944ms
stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > AdminDisplay Component > should handle missing admins array gracefully
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > AdminDisplay Component > should handle missing admins array gracefully
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > AdminDisplay Component > should handle missing admins array gracefully
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family-1'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Pending Family Display > should display pending families with correct styling and expiration date
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Pending Family Display > should display pending families with correct styling and expiration date
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Pending Family Display > should display pending families with correct styling and expiration date
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family-1'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Pending Family Display > should show orange border styling for pending families
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Pending Family Display > should show orange border styling for pending families
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Pending Family Display > should show orange border styling for pending families
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family-1'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Pending Family Display > should use status field for pending detection with role display
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Pending Family Display > should use status field for pending detection with role display
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.test.tsx > ManageGroupPage > Pending Family Display > should use status field for pending detection with role display
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family-1'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

 ‚úì src/pages/__tests__/ManageGroupPage.test.tsx (24 tests) 2977ms
   ‚úì ManageGroupPage > Family Management > updates family role successfully  305ms
   ‚úì ManageGroupPage > Group Deletion > deletes group when admin confirms deletion  307ms
   ‚úì ManageGroupPage > AdminDisplay Component > should display multiple admins with tooltip  783ms
stdout | src/pages/__tests__/LoginPage.invitation.test.tsx > LoginPage - Invitation Code Extraction > Group Invitation URLs > should extract inviteCode from group join URL in returnTo parameter
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/LoginPage.invitation.test.tsx > LoginPage - Invitation Code Extraction > Group Invitation URLs > should extract inviteCode from group join URL in returnTo parameter
üîç DEBUG: LoginPage - redirectTo from searchParams (using returnTo): /groups/join?code=7A5D203
üîç DEBUG: Processing redirectTo URL: /groups/join?code=7A5D203
üîç DEBUG: Decoded URL: /groups/join?code=7A5D203
üîç DEBUG: Parsed URL pathname: /groups/join
üîç DEBUG: Parsed URL search params: ?code=7A5D203
üîç DEBUG: Extracted invite code from /groups/join: 7A5D203
üîç DEBUG: Final invite code to pass to login: 7A5D203

stdout | src/pages/__tests__/LoginPage.invitation.test.tsx > LoginPage - Invitation Code Extraction > Group Invitation URLs > should extract inviteCode from encoded group join URL
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/LoginPage.invitation.test.tsx > LoginPage - Invitation Code Extraction > Group Invitation URLs > should extract inviteCode from encoded group join URL
üîç DEBUG: LoginPage - redirectTo from searchParams (using returnTo): %2Fgroups%2Fjoin%3Fcode%3DGRP789XYZ
üîç DEBUG: Processing redirectTo URL: %2Fgroups%2Fjoin%3Fcode%3DGRP789XYZ
üîç DEBUG: Decoded URL: /groups/join?code=GRP789XYZ
üîç DEBUG: Parsed URL pathname: /groups/join
üîç DEBUG: Parsed URL search params: ?code=GRP789XYZ
üîç DEBUG: Extracted invite code from /groups/join: GRP789XYZ
üîç DEBUG: Final invite code to pass to login: GRP789XYZ

stdout | src/pages/__tests__/ChildrenPage.test.tsx > ChildrenPage > renders children page correctly
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/LoginPage.invitation.test.tsx > LoginPage - Invitation Code Extraction > Family Invitation URLs > should extract inviteCode from family join URL in returnTo parameter
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/ChildrenPage.test.tsx > ChildrenPage > displays loading state
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/ChildrenPage.test.tsx > ChildrenPage > displays empty state when no children
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/ChildrenPage.test.tsx > ChildrenPage > displays children list when children exist
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/ChildrenPage.test.tsx > ChildrenPage > displays children without age correctly
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/ChildrenPage.test.tsx > ChildrenPage > opens add child modal when add button is clicked
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/LoginPage.invitation.test.tsx > LoginPage - Invitation Code Extraction > Family Invitation URLs > should extract inviteCode from family join URL in returnTo parameter
üîç DEBUG: LoginPage - redirectTo from searchParams (using returnTo): /families/join?code=FAM123ABC
üîç DEBUG: Processing redirectTo URL: /families/join?code=FAM123ABC
üîç DEBUG: Decoded URL: /families/join?code=FAM123ABC
üîç DEBUG: Parsed URL pathname: /families/join
üîç DEBUG: Parsed URL search params: ?code=FAM123ABC
üîç DEBUG: Extracted invite code from /families/join: FAM123ABC
üîç DEBUG: Final invite code to pass to login: FAM123ABC

stdout | src/pages/__tests__/LoginPage.invitation.test.tsx > LoginPage - Invitation Code Extraction > Edge Cases > should not extract inviteCode when returnTo is not an invitation URL
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stderr | src/pages/__tests__/ChildrenPage.test.tsx > ChildrenPage > opens add child modal when add button is clicked
Each child in a list should have a unique "key" prop.

Check the render method of `Primitive.div`. It was passed a child from ChildrenPage. See https://react.dev/link/warning-keys for more information.
Each child in a list should have a unique "key" prop.

Check the render method of `select`. It was passed a child from SelectItemText. See https://react.dev/link/warning-keys for more information.

stdout | src/pages/__tests__/ChildrenPage.test.tsx > ChildrenPage > creates a new child successfully
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/LoginPage.invitation.test.tsx > LoginPage - Invitation Code Extraction > Edge Cases > should not extract inviteCode when returnTo is not an invitation URL
üîç DEBUG: LoginPage - redirectTo from searchParams (using returnTo): /dashboard
üîç DEBUG: Processing redirectTo URL: /dashboard
üîç DEBUG: Decoded URL: /dashboard
üîç DEBUG: Parsed URL pathname: /dashboard
üîç DEBUG: Parsed URL search params: 
üîç DEBUG: Final invite code to pass to login: [90mundefined[39m

stdout | src/pages/__tests__/LoginPage.invitation.test.tsx > LoginPage - Invitation Code Extraction > Edge Cases > should not extract inviteCode when returnTo parameter is missing
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stderr | src/components/family/__tests__/FamilyOnboardingWizard.test.tsx > FamilyOnboardingWizard > Create family step > should handle creation errors
Failed to create family: Error: Family name already exists
    at [90m/workspace/frontend/[39msrc/components/family/__tests__/FamilyOnboardingWizard.test.tsx:196:46
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m

stdout | src/pages/__tests__/LoginPage.invitation.test.tsx > LoginPage - Invitation Code Extraction > Edge Cases > should not extract inviteCode when returnTo parameter is missing
üîç DEBUG: LoginPage - redirectTo from searchParams (using returnTo): [1mnull[22m
üîç DEBUG: Final invite code to pass to login: [90mundefined[39m

stdout | src/pages/__tests__/LoginPage.invitation.test.tsx > LoginPage - Invitation Code Extraction > Edge Cases > should extract inviteCode using regex fallback for malformed URLs
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/ChildrenPage.test.tsx > ChildrenPage > creates a child without age
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/LoginPage.invitation.test.tsx > LoginPage - Invitation Code Extraction > Edge Cases > should extract inviteCode using regex fallback for malformed URLs
üîç DEBUG: LoginPage - redirectTo from searchParams (using returnTo): groups/join?code=REGEX123&extra=param
üîç DEBUG: Processing redirectTo URL: groups/join?code=REGEX123&extra=param
üîç DEBUG: Decoded URL: groups/join?code=REGEX123&extra=param
üîç DEBUG: Parsed URL pathname: /groups/join
üîç DEBUG: Parsed URL search params: ?code=REGEX123&extra=param
üîç DEBUG: Extracted invite code from /groups/join: REGEX123
üîç DEBUG: Final invite code to pass to login: REGEX123

stdout | src/pages/__tests__/LoginPage.invitation.test.tsx > LoginPage - Invitation Code Extraction > New User Flow with Invitation > should extract inviteCode for new user signup with group invitation
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/ChildrenPage.test.tsx > ChildrenPage > validates child form inputs
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/LoginPage.invitation.test.tsx > LoginPage - Invitation Code Extraction > New User Flow with Invitation > should extract inviteCode for new user signup with group invitation
üîç DEBUG: LoginPage - redirectTo from searchParams (using returnTo): /groups/join?code=NEWUSER123
üîç DEBUG: Processing redirectTo URL: /groups/join?code=NEWUSER123
üîç DEBUG: Decoded URL: /groups/join?code=NEWUSER123
üîç DEBUG: Parsed URL pathname: /groups/join
üîç DEBUG: Parsed URL search params: ?code=NEWUSER123
üîç DEBUG: Extracted invite code from /groups/join: NEWUSER123
üîç DEBUG: Final invite code to pass to login: NEWUSER123

stderr | src/pages/__tests__/LoginPage.invitation.test.tsx > LoginPage - Invitation Code Extraction > New User Flow with Invitation > should extract inviteCode for new user signup with group invitation
Login error: Error: Name is required for new users
    at [90m/workspace/frontend/[39msrc/pages/__tests__/LoginPage.invitation.test.tsx:232:9
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m

stderr | src/components/family/__tests__/FamilyOnboardingWizard.test.tsx > FamilyOnboardingWizard > Join family step > should handle join errors
Failed to join family: Error: Invalid invite code
    at [90m/workspace/frontend/[39msrc/components/family/__tests__/FamilyOnboardingWizard.test.tsx:337:44
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m

stdout | src/pages/__tests__/ChildrenPage.test.tsx > ChildrenPage > opens edit modal when edit button is clicked
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

 ‚úì src/components/__tests__/GroupScheduleConfigModal.test.tsx (22 tests) 2201ms
stdout | src/pages/__tests__/ChildrenPage.test.tsx > ChildrenPage > updates child successfully
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/LoginPage.invitation.test.tsx > LoginPage - Invitation Code Extraction > New User Flow with Invitation > should extract inviteCode for new user signup with group invitation
üîç DEBUG: LoginPage - redirectTo from searchParams (using returnTo): /groups/join?code=NEWUSER123
üîç DEBUG: Processing redirectTo URL: /groups/join?code=NEWUSER123
üîç DEBUG: Decoded URL: /groups/join?code=NEWUSER123
üîç DEBUG: Parsed URL pathname: /groups/join
üîç DEBUG: Parsed URL search params: ?code=NEWUSER123
üîç DEBUG: Extracted invite code from /groups/join: NEWUSER123
üîç DEBUG: Final invite code to pass to login: NEWUSER123

 ‚úì src/pages/__tests__/LoginPage.invitation.test.tsx (7 tests) 1578ms
   ‚úì LoginPage - Invitation Code Extraction > Group Invitation URLs > should extract inviteCode from group join URL in returnTo parameter  336ms
   ‚úì LoginPage - Invitation Code Extraction > New User Flow with Invitation > should extract inviteCode for new user signup with group invitation  319ms
stdout | src/pages/__tests__/ChildrenPage.test.tsx > ChildrenPage > deletes child with confirmation
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/ChildrenPage.test.tsx > ChildrenPage > handles age input validation
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

 ‚úì src/pages/__tests__/ChildrenPage.test.tsx (13 tests) 1363ms
   ‚úì ChildrenPage > creates a new child successfully  313ms
stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Group Edit Dialog > should open edit dialog when edit button is clicked
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Group Edit Dialog > should open edit dialog when edit button is clicked
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Group Edit Dialog > should open edit dialog when edit button is clicked
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family123'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stdout | src/pages/__tests__/VehiclesPage.test.tsx > VehiclesPage > renders vehicles page correctly
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/VehiclesPage.test.tsx > VehiclesPage > displays loading state
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/VehiclesPage.test.tsx > VehiclesPage > displays empty state when no vehicles
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/VehiclesPage.test.tsx > VehiclesPage > displays vehicles list when vehicles exist
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/VehiclesPage.test.tsx > VehiclesPage > opens add vehicle modal when add button is clicked
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Group Edit Dialog > should close dialog when cancel button is clicked
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Group Edit Dialog > should close dialog when cancel button is clicked
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Group Edit Dialog > should close dialog when cancel button is clicked
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family123'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Group Name Update > should successfully update group name
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Group Name Update > should successfully update group name
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Group Name Update > should successfully update group name
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family123'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stdout | src/pages/__tests__/VehiclesPage.test.tsx > VehiclesPage > creates a new vehicle successfully
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Group Name Update > should disable save button when group name is empty
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Group Name Update > should disable save button when group name is empty
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Group Name Update > should disable save button when group name is empty
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family123'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Group Name Update > should trim whitespace from group name
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Group Name Update > should trim whitespace from group name
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Group Name Update > should trim whitespace from group name
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family123'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

 ‚úì src/components/family/__tests__/FamilyOnboardingWizard.test.tsx (22 tests) 2472ms
   ‚úì FamilyOnboardingWizard > Success step > should call onComplete after success timeout  1428ms
stdout | src/pages/__tests__/VehiclesPage.test.tsx > VehiclesPage > validates vehicle form inputs
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Group Description Update > should successfully update group description
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Group Description Update > should successfully update group description
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Group Description Update > should successfully update group description
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family123'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stdout | src/pages/__tests__/VehiclesPage.test.tsx > VehiclesPage > opens edit modal when edit button is clicked
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Group Description Update > should clear description when empty string is provided
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Group Description Update > should clear description when empty string is provided
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Group Description Update > should clear description when empty string is provided
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family123'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stdout | src/pages/__tests__/VehiclesPage.test.tsx > VehiclesPage > updates vehicle successfully
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Group Description Update > should trim whitespace from description
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Group Description Update > should trim whitespace from description
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Group Description Update > should trim whitespace from description
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family123'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Combined Updates > should update both name and description
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Combined Updates > should update both name and description
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Combined Updates > should update both name and description
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family123'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Combined Updates > should not call API if no changes are made
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Combined Updates > should not call API if no changes are made
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Combined Updates > should not call API if no changes are made
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family123'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stdout | src/pages/__tests__/VehiclesPage.test.tsx > VehiclesPage > deletes vehicle with confirmation
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Error Handling > should show error message when update fails
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Error Handling > should show error message when update fails
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Error Handling > should show error message when update fails
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family123'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stdout | src/pages/__tests__/VehiclesPage.test.tsx > VehiclesPage > cancels delete when user declines confirmation
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Error Handling > should show generic error message when error has no message
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Error Handling > should show generic error message when error has no message
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Error Handling > should show generic error message when error has no message
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family123'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stdout | src/pages/__tests__/VehiclesPage.test.tsx > VehiclesPage > closes modal when cancel button is clicked
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

 ‚úì src/pages/__tests__/VehiclesPage.test.tsx (12 tests) 1221ms
   ‚úì VehiclesPage > updates vehicle successfully  329ms
stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Loading States > should call update API when saving changes
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Loading States > should call update API when saving changes
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx > ManageGroupPage - Group Update Functionality > Loading States > should call update API when saving changes
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family123'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

 ‚úì src/pages/__tests__/ManageGroupPage.updateGroup.test.tsx (13 tests) 1309ms
 ‚úì src/components/__tests__/CreateGroupModal.test.tsx (13 tests) 1520ms
stdout | src/pages/__tests__/LoginPage.test.tsx > LoginPage > renders login form correctly
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/LoginPage.test.tsx > LoginPage > shows name field when new user is selected
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/LoginPage.test.tsx > LoginPage > requires name field for new users
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/LoginPage.test.tsx > LoginPage > submits form with valid data for new user
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/ManageFamilyPage.familyNameEdit.test.tsx > ManageFamilyPage - Family Name Edit Functionality > should show edit button for admin users
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Original Family Name'[39m,
  memberCount: [33m2[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'john@example.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'jane@example.com'[39m, role: [32m'PARENT'[39m }
  ]
}

stdout | src/pages/__tests__/LoginPage.test.tsx > LoginPage > submits form with valid data for new user
üîç DEBUG: LoginPage - redirectTo from searchParams (using returnTo): [1mnull[22m
üîç DEBUG: Final invite code to pass to login: [90mundefined[39m

stdout | src/pages/__tests__/ManageFamilyPage.familyNameEdit.test.tsx > ManageFamilyPage - Family Name Edit Functionality > should open edit dialog when edit button is clicked
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Original Family Name'[39m,
  memberCount: [33m2[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'john@example.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'jane@example.com'[39m, role: [32m'PARENT'[39m }
  ]
}

stdout | src/pages/__tests__/LoginPage.test.tsx > LoginPage > shows success message after successful submission
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/ManageFamilyPage.familyNameEdit.test.tsx > ManageFamilyPage - Family Name Edit Functionality > should update family name when form is submitted
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Original Family Name'[39m,
  memberCount: [33m2[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'john@example.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'jane@example.com'[39m, role: [32m'PARENT'[39m }
  ]
}

stdout | src/components/__tests__/FamilySearchInvitation.test.tsx > FamilySearchInvitation > should render search input and search button
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/LoginPage.test.tsx > LoginPage > shows success message after successful submission
üîç DEBUG: LoginPage - redirectTo from searchParams (using returnTo): [1mnull[22m
üîç DEBUG: Final invite code to pass to login: [90mundefined[39m

stdout | src/pages/__tests__/LoginPage.test.tsx > LoginPage > automatically switches to new user tab when name is required
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/components/__tests__/FamilySearchInvitation.test.tsx > FamilySearchInvitation > should search families when search button is clicked
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/ManageFamilyPage.familyNameEdit.test.tsx > ManageFamilyPage - Family Name Edit Functionality > should close dialog after successful update
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Original Family Name'[39m,
  memberCount: [33m2[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'john@example.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'jane@example.com'[39m, role: [32m'PARENT'[39m }
  ]
}

stdout | src/pages/__tests__/LoginPage.test.tsx > LoginPage > automatically switches to new user tab when name is required
üîç DEBUG: LoginPage - redirectTo from searchParams (using returnTo): [1mnull[22m
üîç DEBUG: Final invite code to pass to login: [90mundefined[39m

stderr | src/pages/__tests__/LoginPage.test.tsx > LoginPage > automatically switches to new user tab when name is required
Login error: Error: Name is required for new users
    at [90m/workspace/frontend/[39msrc/pages/__tests__/LoginPage.test.tsx:126:7
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runFiles [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1784:3[90m)[39m

stderr | src/pages/__tests__/LoginPage.test.tsx > LoginPage > automatically switches to new user tab when name is required
Login error: Error: Name is required for new users
    at [90m/workspace/frontend/[39msrc/pages/__tests__/LoginPage.test.tsx:126:7
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runFiles [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1784:3[90m)[39m

 ‚úì src/pages/__tests__/LoginPage.test.tsx (6 tests) 934ms
   ‚úì LoginPage > submits form with valid data for new user  358ms
stdout | src/pages/__tests__/ManageFamilyPage.familyNameEdit.test.tsx > ManageFamilyPage - Family Name Edit Functionality > should show success message after update
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Original Family Name'[39m,
  memberCount: [33m2[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'john@example.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'jane@example.com'[39m, role: [32m'PARENT'[39m }
  ]
}

stdout | src/components/__tests__/FamilySearchInvitation.test.tsx > FamilySearchInvitation > should invite family when invite button is clicked
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Unauthenticated User Flow > should display group invitation details for unauthenticated user
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Unauthenticated User Flow > should display group invitation details for unauthenticated user
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Unauthenticated User Flow > should show sign in option for existing user
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Unauthenticated User Flow > should show sign in option for existing user
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Unauthenticated User Flow > should store invitation context when new user creates account
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Unauthenticated User Flow > should store invitation context when new user creates account
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/pages/__tests__/ManageFamilyPage.familyNameEdit.test.tsx > ManageFamilyPage - Family Name Edit Functionality > should prevent submission of empty name
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Original Family Name'[39m,
  memberCount: [33m2[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'john@example.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'jane@example.com'[39m, role: [32m'PARENT'[39m }
  ]
}

stdout | src/pages/__tests__/ManageFamilyPage.familyNameEdit.test.tsx > ManageFamilyPage - Family Name Edit Functionality > should prevent submission if name unchanged
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Original Family Name'[39m,
  memberCount: [33m2[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'john@example.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'jane@example.com'[39m, role: [32m'PARENT'[39m }
  ]
}

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Unauthenticated User Flow > should store invitation context when new user creates account
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Unauthenticated User Flow > should store invitation context when new user creates account
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/pages/__tests__/ManageFamilyPage.familyNameEdit.test.tsx > ManageFamilyPage - Family Name Edit Functionality > should handle update errors gracefully
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Original Family Name'[39m,
  memberCount: [33m2[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'john@example.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'jane@example.com'[39m, role: [32m'PARENT'[39m }
  ]
}

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Unauthenticated User Flow > should store invitation context when new user creates account
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Unauthenticated User Flow > should store invitation context when new user creates account
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Unauthenticated User Flow > should store invitation context when new user creates account
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/FamilySearchInvitation.test.tsx > FamilySearchInvitation > should show loading state while searching
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Unauthenticated User Flow > should store invitation context when new user creates account
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Unauthenticated User Flow > should store invitation context when new user creates account
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Unauthenticated User Flow > should store invitation context when new user creates account
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Unauthenticated User Flow > should store invitation context when new user creates account
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Unauthenticated User Flow > should store invitation context when new user creates account
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

 ‚úì src/pages/__tests__/ManageFamilyPage.familyNameEdit.test.tsx (9 tests) 791ms
stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Admin User Flow > should show family admin can accept for entire family
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Admin User Flow > should show family admin can accept for entire family
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Admin User Flow > should accept group invitation for entire family
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Admin User Flow > should accept group invitation for entire family
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Admin User Flow > should accept group invitation for entire family
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Admin User Flow > should accept group invitation for entire family
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Admin User Flow > should show loading state during acceptance
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Admin User Flow > should show loading state during acceptance
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Admin User Flow > should show loading state during acceptance
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/FamilySearchInvitation.test.tsx > FamilySearchInvitation > should show error message when search fails
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should show that only admin can accept invitation
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should show that only admin can accept invitation
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should show options to contact admin
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should show options to contact admin
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should open share dialog when share with admin clicked
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should open share dialog when share with admin clicked
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should open share dialog when share with admin clicked
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/FamilySearchInvitation.test.tsx > FamilySearchInvitation > should show no results message when no families found
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

 ‚úì src/components/__tests__/FamilySearchInvitation.test.tsx (6 tests) 1048ms
stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > User Without Family Flow > should show family onboarding requirement
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > User Without Family Flow > should show family onboarding requirement
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > User Without Family Flow > should redirect to family onboarding with preserved context
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > User Without Family Flow > should redirect to family onboarding with preserved context
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Already Member Flow > should show already member message
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Already Member Flow > should show already member message
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Already Member Flow > should show already member message
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Already Member Flow > should show already member message
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Already Member Flow > should navigate to group when go to group clicked
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Already Member Flow > should navigate to group when go to group clicked
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Already Member Flow > should navigate to group when go to group clicked
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Family Already Member Flow > should navigate to group when go to group clicked
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Multi-Admin Coordination > should show already accepted message for second admin
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Multi-Admin Coordination > should show already accepted message for second admin
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Multi-Admin Coordination > should show already accepted message for second admin
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Multi-Admin Coordination > should show already accepted message for second admin
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Invalid Invitations > should show error for invalid invitation code
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Invalid Invitations > should show error for invalid invitation code
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Invalid Invitations > should show error for expired invitation
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Invalid Invitations > should show error for expired invitation
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Invalid Invitations > should show specific error for email mismatch
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Invalid Invitations > should show specific error for email mismatch
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Error Handling > should handle network errors during acceptance
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Error Handling > should handle network errors during acceptance
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Error Handling > should handle network errors during acceptance
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Error Handling > should handle network errors during acceptance
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Error Handling > should retry on network error
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Error Handling > should retry on network error
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Error Handling > should retry on network error
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Error Handling > should retry on network error
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Error Handling > should retry on network error
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

stdout | src/components/__tests__/UnifiedGroupInvitationPage.test.tsx > UnifiedGroupInvitationPage - TDD Tests > Error Handling > should retry on network error
üîç DEBUG: UnifiedGroupInvitationPage - extracted inviteCode from URL: GRP123

 ‚úì src/components/__tests__/UnifiedGroupInvitationPage.test.tsx (20 tests) 1046ms
   ‚úì UnifiedGroupInvitationPage - TDD Tests > Family Member (Non-Admin) Flow > should send message to admin when share dialog submitted  396ms
 ‚úì src/pages/__tests__/ChildrenPage.editDialog.test.tsx (7 tests) 718ms
 ‚úì src/components/__tests__/ChildAssignmentModal.test.tsx (37 tests) 737ms
 ‚úì src/pages/__tests__/VehiclesPage.refreshFamily.test.tsx (7 tests) 708ms
 ‚úì src/components/layout/__tests__/DesktopNav.test.tsx (15 tests) 641ms
 ‚úì src/components/__tests__/UnifiedFamilyInvitationPage.test.tsx (14 tests) 472ms
stdout | src/components/__tests__/ManageFamilyPage.adminSelfDemotion.test.tsx > ManageFamilyPage - Admin Self-Demotion Prevention > should render family management page with members
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m2[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/components/__tests__/ManageFamilyPage.adminSelfDemotion.test.tsx > ManageFamilyPage - Admin Self-Demotion Prevention > should show admin member with correct role badge
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m2[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/components/__tests__/ManageFamilyPage.adminSelfDemotion.test.tsx > ManageFamilyPage - Admin Self-Demotion Prevention > should have member management functionality available for admins
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m2[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

 ‚úì src/pages/__tests__/LoginPage.401redirect.test.tsx (16 tests) 574ms
stdout | src/components/__tests__/ManageFamilyPage.adminSelfDemotion.test.tsx > ManageFamilyPage - Admin Self-Demotion Prevention > should prevent admin from demoting themselves
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m2[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/components/__tests__/ManageFamilyPage.adminSelfDemotion.test.tsx > ManageFamilyPage - Admin Self-Demotion Prevention > should allow role changes for other members
üîç ManageFamilyPage: Family data loaded: {
  familyId: [32m'family-1'[39m,
  familyName: [32m'Test Family'[39m,
  memberCount: [33m2[39m,
  adminCount: [33m1[39m,
  members: [
    { id: [32m'member-1'[39m, email: [32m'admin@test.com'[39m, role: [32m'ADMIN'[39m },
    { id: [32m'member-2'[39m, email: [32m'member@test.com'[39m, role: [32m'MEMBER'[39m }
  ]
}

stdout | src/pages/__tests__/VerifyMagicLinkPage.test.tsx > VerifyMagicLinkPage > shows loading state while verifying token
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/VerifyMagicLinkPage.test.tsx > VerifyMagicLinkPage > shows error when no token is provided
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/VerifyMagicLinkPage.test.tsx > VerifyMagicLinkPage > shows error when token verification fails
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stderr | src/pages/__tests__/VerifyMagicLinkPage.test.tsx > VerifyMagicLinkPage > shows error when token verification fails
Magic link verification error: Error: Invalid token
    at [90m/workspace/frontend/[39msrc/pages/__tests__/VerifyMagicLinkPage.test.tsx:134:59
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runFiles [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1784:3[90m)[39m

stderr | src/pages/__tests__/VerifyMagicLinkPage.test.tsx > VerifyMagicLinkPage > shows error when token verification fails
Magic link verification failed: Error: Invalid token
    at [90m/workspace/frontend/[39msrc/pages/__tests__/VerifyMagicLinkPage.test.tsx:134:59
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runFiles [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1784:3[90m)[39m

stdout | src/pages/__tests__/VerifyMagicLinkPage.test.tsx > VerifyMagicLinkPage > handles successful verification and redirects to dashboard
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/VerifyMagicLinkPage.test.tsx > VerifyMagicLinkPage > redirects to dashboard if user is already authenticated
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stderr | src/pages/__tests__/VerifyMagicLinkPage.test.tsx > VerifyMagicLinkPage > redirects to dashboard if user is already authenticated
An update to FamilyProvider inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stdout | src/pages/__tests__/VerifyMagicLinkPage.test.tsx > VerifyMagicLinkPage > redirects to dashboard if user is already authenticated
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/VerifyMagicLinkPage.test.tsx > VerifyMagicLinkPage > redirects to dashboard if user is already authenticated
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family-1'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stderr | src/pages/__tests__/VerifyMagicLinkPage.test.tsx > VerifyMagicLinkPage > redirects to dashboard if user is already authenticated
An update to FamilyProvider inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stdout | src/pages/__tests__/VerifyMagicLinkPage.test.tsx > VerifyMagicLinkPage > navigates back to login when back button is clicked
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

 ‚úì src/components/__tests__/ManageFamilyPage.adminSelfDemotion.test.tsx (5 tests) 598ms
stdout | src/pages/__tests__/VerifyMagicLinkPage.test.tsx > VerifyMagicLinkPage > shows appropriate error message for expired token
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stderr | src/pages/__tests__/VerifyMagicLinkPage.test.tsx > VerifyMagicLinkPage > shows appropriate error message for expired token
Magic link verification error: Error: Token has expired
    at [90m/workspace/frontend/[39msrc/pages/__tests__/VerifyMagicLinkPage.test.tsx:203:59
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runFiles [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1784:3[90m)[39m

stderr | src/pages/__tests__/VerifyMagicLinkPage.test.tsx > VerifyMagicLinkPage > shows appropriate error message for expired token
Magic link verification failed: Error: Token has expired
    at [90m/workspace/frontend/[39msrc/pages/__tests__/VerifyMagicLinkPage.test.tsx:203:59
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runFiles [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1784:3[90m)[39m

stdout | src/pages/__tests__/VerifyMagicLinkPage.test.tsx > VerifyMagicLinkPage > handles network errors gracefully
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stderr | src/pages/__tests__/VerifyMagicLinkPage.test.tsx > VerifyMagicLinkPage > handles network errors gracefully
Magic link verification error: Error: Network error
    at [90m/workspace/frontend/[39msrc/pages/__tests__/VerifyMagicLinkPage.test.tsx:216:59
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runFiles [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1784:3[90m)[39m

stderr | src/pages/__tests__/VerifyMagicLinkPage.test.tsx > VerifyMagicLinkPage > handles network errors gracefully
Magic link verification failed: Error: Network error
    at [90m/workspace/frontend/[39msrc/pages/__tests__/VerifyMagicLinkPage.test.tsx:216:59
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runFiles [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1784:3[90m)[39m

stdout | src/pages/__tests__/VerifyMagicLinkPage.test.tsx > VerifyMagicLinkPage > does not verify token if user is already authenticated
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mtrue[39m , user = [33mtrue[39m
üîç DEBUG FAMILYCONTEXT: Calling loadUserFamily()
üîç DEBUG FAMILYCONTEXT: loadUserFamily called, user = [33mtrue[39m

stdout | src/pages/__tests__/VerifyMagicLinkPage.test.tsx > VerifyMagicLinkPage > does not verify token if user is already authenticated
üîç DEBUG FAMILYCONTEXT: About to call getCurrentFamily

stdout | src/pages/__tests__/VerifyMagicLinkPage.test.tsx > VerifyMagicLinkPage > does not verify token if user is already authenticated
üîç DEBUG FAMILYCONTEXT: getCurrentFamily succeeded, family = {
  id: [32m'family-1'[39m,
  name: [32m'Test Family'[39m,
  inviteCode: [32m'FAM123'[39m,
  members: [],
  children: [],
  vehicles: []
}

stdout | src/pages/__tests__/VerifyMagicLinkPage.test.tsx > VerifyMagicLinkPage > shows loading state while auth context is loading
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stderr | src/pages/__tests__/VerifyMagicLinkPage.test.tsx > VerifyMagicLinkPage > shows loading state while auth context is loading
Magic link verification error: TypeError: Cannot read properties of undefined (reading 'user')
    at verifyMagicLink [90m(/workspace/frontend/[39msrc/contexts/AuthContext.tsx:113:24[90m)[39m
    at handleVerification [90m(/workspace/frontend/[39msrc/pages/VerifyMagicLinkPage.tsx:72:24[90m)[39m
An update to AuthProvider inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/pages/__tests__/VerifyMagicLinkPage.test.tsx > VerifyMagicLinkPage > shows loading state while auth context is loading
Magic link verification failed: TypeError: Cannot read properties of undefined (reading 'user')
    at verifyMagicLink [90m(/workspace/frontend/[39msrc/contexts/AuthContext.tsx:113:24[90m)[39m
    at handleVerification [90m(/workspace/frontend/[39msrc/pages/VerifyMagicLinkPage.tsx:72:24[90m)[39m
An update to VerifyMagicLinkPage inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stdout | src/pages/__tests__/VerifyMagicLinkPage.test.tsx > VerifyMagicLinkPage > provides helpful instructions for failed verification
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/VerifyMagicLinkPage.test.tsx > VerifyMagicLinkPage > does not retry verification after failure (prevents infinite loop)
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stderr | src/pages/__tests__/VerifyMagicLinkPage.test.tsx > VerifyMagicLinkPage > does not retry verification after failure (prevents infinite loop)
Magic link verification error: Error: PKCE data not found
    at [90m/workspace/frontend/[39msrc/pages/__tests__/VerifyMagicLinkPage.test.tsx:265:55
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runFiles [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1784:3[90m)[39m

stderr | src/pages/__tests__/VerifyMagicLinkPage.test.tsx > VerifyMagicLinkPage > does not retry verification after failure (prevents infinite loop)
Magic link verification failed: Error: PKCE data not found
    at [90m/workspace/frontend/[39msrc/pages/__tests__/VerifyMagicLinkPage.test.tsx:265:55
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runFiles [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1784:3[90m)[39m

stdout | src/services/__tests__/authService.pkce.test.ts > AuthService PKCE Integration > requestMagicLink with PKCE > should generate PKCE pair and include challenge in request
üîê Generated PKCE challenge for magic link request
üîç DEBUG: Frontend authService sending request body: {
  "email": "test@example.com",
  "code_challenge": "[REDACTED]"
}

stdout | src/services/__tests__/authService.pkce.test.ts > AuthService PKCE Integration > requestMagicLink with PKCE > should include context data along with PKCE challenge
üîê Generated PKCE challenge for magic link request
üîç DEBUG: Frontend authService sending request body: {
  "email": "test@example.com",
  "name": "John Doe",
  "inviteCode": "invite-123",
  "code_challenge": "[REDACTED]",
  "customField": "custom-value"
}

stdout | src/services/__tests__/authService.pkce.test.ts > AuthService PKCE Integration > requestMagicLink with PKCE > should clear PKCE data on API error
üîê Generated PKCE challenge for magic link request
üîç DEBUG: Frontend authService sending request body: {
  "email": "test@example.com",
  "code_challenge": "[REDACTED]"
}

stdout | src/services/__tests__/authService.pkce.test.ts > AuthService PKCE Integration > requestMagicLink with PKCE > should clear PKCE data on validation error
üîê Generated PKCE challenge for magic link request
üîç DEBUG: Frontend authService sending request body: {
  "email": "test@example.com",
  "code_challenge": "[REDACTED]"
}

stderr | src/services/__tests__/authService.pkce.test.ts > AuthService PKCE Integration > verifyMagicLink with PKCE > should include PKCE verifier in verification request
Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
    at module.exports (/workspace/frontend/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
    at HTMLCanvasElementImpl.getContext (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:42:5)
    at HTMLCanvasElement.getContext (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:131:58)
    at generateBrowserFingerprint (/workspace/frontend/src/utils/secureStorage.ts:11:22)
    at getEncryptionKey (/workspace/frontend/src/utils/secureStorage.ts:37:31)
    at encryptData (/workspace/frontend/src/utils/secureStorage.ts:76:23)
    at SecureStorage.setItem (/workspace/frontend/src/utils/secureStorage.ts:139:39)
    at AuthService.setAuth (/workspace/frontend/src/services/authService.ts:378:27)
    at AuthService.verifyMagicLink (/workspace/frontend/src/services/authService.ts:275:18)
    at processTicksAndRejections (node:internal/process/task_queues:95:5) [90mundefined[39m
Error: Not implemented: HTMLCanvasElement.prototype.toDataURL (without installing the canvas npm package)
    at module.exports (/workspace/frontend/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
    at HTMLCanvasElementImpl.toDataURL (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:55:5)
    at HTMLCanvasElement.toDataURL (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:162:34)
    at generateBrowserFingerprint (/workspace/frontend/src/utils/secureStorage.ts:28:12)
    at getEncryptionKey (/workspace/frontend/src/utils/secureStorage.ts:37:31)
    at encryptData (/workspace/frontend/src/utils/secureStorage.ts:76:23)
    at SecureStorage.setItem (/workspace/frontend/src/utils/secureStorage.ts:139:39)
    at AuthService.setAuth (/workspace/frontend/src/services/authService.ts:378:27)
    at AuthService.verifyMagicLink (/workspace/frontend/src/services/authService.ts:275:18)
    at processTicksAndRejections (node:internal/process/task_queues:95:5) [90mundefined[39m

stderr | src/services/__tests__/authService.pkce.test.ts > AuthService PKCE Integration > verifyMagicLink with PKCE > should include PKCE verifier in verification request
Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
    at module.exports (/workspace/frontend/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
    at HTMLCanvasElementImpl.getContext (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:42:5)
    at HTMLCanvasElement.getContext (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:131:58)
    at generateBrowserFingerprint (/workspace/frontend/src/utils/secureStorage.ts:11:22)
    at getEncryptionKey (/workspace/frontend/src/utils/secureStorage.ts:37:31)
    at encryptData (/workspace/frontend/src/utils/secureStorage.ts:76:23)
    at SecureStorage.setItem (/workspace/frontend/src/utils/secureStorage.ts:139:39)
    at AuthService.setAuth (/workspace/frontend/src/services/authService.ts:379:27)
    at AuthService.verifyMagicLink (/workspace/frontend/src/services/authService.ts:275:7)
    at /workspace/frontend/src/services/__tests__/authService.pkce.test.ts:199:7 [90mundefined[39m
Error: Not implemented: HTMLCanvasElement.prototype.toDataURL (without installing the canvas npm package)
    at module.exports (/workspace/frontend/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
    at HTMLCanvasElementImpl.toDataURL (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:55:5)
    at HTMLCanvasElement.toDataURL (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:162:34)
    at generateBrowserFingerprint (/workspace/frontend/src/utils/secureStorage.ts:28:12)
    at getEncryptionKey (/workspace/frontend/src/utils/secureStorage.ts:37:31)
    at encryptData (/workspace/frontend/src/utils/secureStorage.ts:76:23)
    at SecureStorage.setItem (/workspace/frontend/src/utils/secureStorage.ts:139:39)
    at AuthService.setAuth (/workspace/frontend/src/services/authService.ts:379:27)
    at AuthService.verifyMagicLink (/workspace/frontend/src/services/authService.ts:275:7)
    at /workspace/frontend/src/services/__tests__/authService.pkce.test.ts:199:7 [90mundefined[39m

stdout | src/services/__tests__/authService.pkce.test.ts > AuthService PKCE Integration > verifyMagicLink with PKCE > should include PKCE verifier in verification request
‚úÖ Magic link verified successfully with PKCE

stderr | src/services/__tests__/authService.pkce.test.ts > AuthService PKCE Integration > verifyMagicLink with PKCE > should include invite code in URL when provided
Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
    at module.exports (/workspace/frontend/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
    at HTMLCanvasElementImpl.getContext (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:42:5)
    at HTMLCanvasElement.getContext (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:131:58)
    at generateBrowserFingerprint (/workspace/frontend/src/utils/secureStorage.ts:11:22)
    at getEncryptionKey (/workspace/frontend/src/utils/secureStorage.ts:37:31)
    at encryptData (/workspace/frontend/src/utils/secureStorage.ts:76:23)
    at SecureStorage.setItem (/workspace/frontend/src/utils/secureStorage.ts:139:39)
    at AuthService.setAuth (/workspace/frontend/src/services/authService.ts:378:27)
    at AuthService.verifyMagicLink (/workspace/frontend/src/services/authService.ts:275:18)
    at /workspace/frontend/src/services/__tests__/authService.pkce.test.ts:224:7 [90mundefined[39m
Error: Not implemented: HTMLCanvasElement.prototype.toDataURL (without installing the canvas npm package)
    at module.exports (/workspace/frontend/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
    at HTMLCanvasElementImpl.toDataURL (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:55:5)
    at HTMLCanvasElement.toDataURL (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:162:34)
    at generateBrowserFingerprint (/workspace/frontend/src/utils/secureStorage.ts:28:12)
    at getEncryptionKey (/workspace/frontend/src/utils/secureStorage.ts:37:31)
    at encryptData (/workspace/frontend/src/utils/secureStorage.ts:76:23)
    at SecureStorage.setItem (/workspace/frontend/src/utils/secureStorage.ts:139:39)
    at AuthService.setAuth (/workspace/frontend/src/services/authService.ts:378:27)
    at AuthService.verifyMagicLink (/workspace/frontend/src/services/authService.ts:275:18)
    at /workspace/frontend/src/services/__tests__/authService.pkce.test.ts:224:7 [90mundefined[39m

stderr | src/services/__tests__/authService.pkce.test.ts > AuthService PKCE Integration > verifyMagicLink with PKCE > should include invite code in URL when provided
Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
    at module.exports (/workspace/frontend/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
    at HTMLCanvasElementImpl.getContext (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:42:5)
    at HTMLCanvasElement.getContext (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:131:58)
    at generateBrowserFingerprint (/workspace/frontend/src/utils/secureStorage.ts:11:22)
    at getEncryptionKey (/workspace/frontend/src/utils/secureStorage.ts:37:31)
    at encryptData (/workspace/frontend/src/utils/secureStorage.ts:76:23)
    at SecureStorage.setItem (/workspace/frontend/src/utils/secureStorage.ts:139:39)
    at AuthService.setAuth (/workspace/frontend/src/services/authService.ts:379:27)
    at AuthService.verifyMagicLink (/workspace/frontend/src/services/authService.ts:275:7)
    at /workspace/frontend/src/services/__tests__/authService.pkce.test.ts:224:7 [90mundefined[39m
Error: Not implemented: HTMLCanvasElement.prototype.toDataURL (without installing the canvas npm package)
    at module.exports (/workspace/frontend/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
    at HTMLCanvasElementImpl.toDataURL (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:55:5)
    at HTMLCanvasElement.toDataURL (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:162:34)
    at generateBrowserFingerprint (/workspace/frontend/src/utils/secureStorage.ts:28:12)
    at getEncryptionKey (/workspace/frontend/src/utils/secureStorage.ts:37:31)
    at encryptData (/workspace/frontend/src/utils/secureStorage.ts:76:23)
    at SecureStorage.setItem (/workspace/frontend/src/utils/secureStorage.ts:139:39)
    at AuthService.setAuth (/workspace/frontend/src/services/authService.ts:379:27)
    at AuthService.verifyMagicLink (/workspace/frontend/src/services/authService.ts:275:7)
    at /workspace/frontend/src/services/__tests__/authService.pkce.test.ts:224:7 [90mundefined[39m

stdout | src/services/__tests__/authService.pkce.test.ts > AuthService PKCE Integration > verifyMagicLink with PKCE > should include invite code in URL when provided
‚úÖ Magic link verified successfully with PKCE

stderr | src/services/__tests__/authService.pkce.test.ts > AuthService PKCE Integration > verifyMagicLink with PKCE > should return auth response with invitation result
Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
    at module.exports (/workspace/frontend/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
    at HTMLCanvasElementImpl.getContext (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:42:5)
    at HTMLCanvasElement.getContext (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:131:58)
    at generateBrowserFingerprint (/workspace/frontend/src/utils/secureStorage.ts:11:22)
    at getEncryptionKey (/workspace/frontend/src/utils/secureStorage.ts:37:31)
    at encryptData (/workspace/frontend/src/utils/secureStorage.ts:76:23)
    at SecureStorage.setItem (/workspace/frontend/src/utils/secureStorage.ts:139:39)
    at AuthService.setAuth (/workspace/frontend/src/services/authService.ts:378:27)
    at AuthService.verifyMagicLink (/workspace/frontend/src/services/authService.ts:275:18)
    at /workspace/frontend/src/services/__tests__/authService.pkce.test.ts:296:22 [90mundefined[39m
Error: Not implemented: HTMLCanvasElement.prototype.toDataURL (without installing the canvas npm package)
    at module.exports (/workspace/frontend/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
    at HTMLCanvasElementImpl.toDataURL (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:55:5)
    at HTMLCanvasElement.toDataURL (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:162:34)
    at generateBrowserFingerprint (/workspace/frontend/src/utils/secureStorage.ts:28:12)
    at getEncryptionKey (/workspace/frontend/src/utils/secureStorage.ts:37:31)
    at encryptData (/workspace/frontend/src/utils/secureStorage.ts:76:23)
    at SecureStorage.setItem (/workspace/frontend/src/utils/secureStorage.ts:139:39)
    at AuthService.setAuth (/workspace/frontend/src/services/authService.ts:378:27)
    at AuthService.verifyMagicLink (/workspace/frontend/src/services/authService.ts:275:18)
    at /workspace/frontend/src/services/__tests__/authService.pkce.test.ts:296:22 [90mundefined[39m

stderr | src/services/__tests__/authService.pkce.test.ts > AuthService PKCE Integration > verifyMagicLink with PKCE > should return auth response with invitation result
Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
    at module.exports (/workspace/frontend/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
    at HTMLCanvasElementImpl.getContext (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:42:5)
    at HTMLCanvasElement.getContext (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:131:58)
    at generateBrowserFingerprint (/workspace/frontend/src/utils/secureStorage.ts:11:22)
    at getEncryptionKey (/workspace/frontend/src/utils/secureStorage.ts:37:31)
    at encryptData (/workspace/frontend/src/utils/secureStorage.ts:76:23)
    at SecureStorage.setItem (/workspace/frontend/src/utils/secureStorage.ts:139:39)
    at AuthService.setAuth (/workspace/frontend/src/services/authService.ts:379:27)
    at AuthService.verifyMagicLink (/workspace/frontend/src/services/authService.ts:275:7)
    at /workspace/frontend/src/services/__tests__/authService.pkce.test.ts:296:22 [90mundefined[39m
Error: Not implemented: HTMLCanvasElement.prototype.toDataURL (without installing the canvas npm package)
    at module.exports (/workspace/frontend/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
    at HTMLCanvasElementImpl.toDataURL (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:55:5)
    at HTMLCanvasElement.toDataURL (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:162:34)
    at generateBrowserFingerprint (/workspace/frontend/src/utils/secureStorage.ts:28:12)
    at getEncryptionKey (/workspace/frontend/src/utils/secureStorage.ts:37:31)
    at encryptData (/workspace/frontend/src/utils/secureStorage.ts:76:23)
    at SecureStorage.setItem (/workspace/frontend/src/utils/secureStorage.ts:139:39)
    at AuthService.setAuth (/workspace/frontend/src/services/authService.ts:379:27)
    at AuthService.verifyMagicLink (/workspace/frontend/src/services/authService.ts:275:7)
    at /workspace/frontend/src/services/__tests__/authService.pkce.test.ts:296:22 [90mundefined[39m

 ‚úì src/components/layout/__tests__/BottomNav.test.tsx (23 tests) 291ms
stdout | src/services/__tests__/authService.pkce.test.ts > AuthService PKCE Integration > verifyMagicLink with PKCE > should return auth response with invitation result
‚úÖ Magic link verified successfully with PKCE

stdout | src/services/__tests__/authService.pkce.test.ts > AuthService PKCE Integration > Error handling and security > should handle PKCE utils import failure gracefully
üîê Generated PKCE challenge for magic link request
üîç DEBUG: Frontend authService sending request body: {
  "email": "test@example.com",
  "code_challenge": "[REDACTED]"
}

stdout | src/services/__tests__/authService.pkce.test.ts > AuthService PKCE Integration > Error handling and security > should handle localStorage unavailability during PKCE cleanup
üîê Generated PKCE challenge for magic link request
üîç DEBUG: Frontend authService sending request body: {
  "email": "test@example.com",
  "code_challenge": "[REDACTED]"
}

stderr | src/services/__tests__/authService.pkce.test.ts > AuthService PKCE Integration > Error handling and security > should handle localStorage unavailability during PKCE cleanup
Failed to clear PKCE data after error: Error: localStorage unavailable
    at [90m/workspace/frontend/[39msrc/services/__tests__/authService.pkce.test.ts:363:15
    at mockCall [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/spy/dist/index.js:89:15[90m)[39m
    at clearPKCEData [90m(file:///workspace/frontend/[39mnode_modules/[4mtinyspy[24m/dist/index.js:47:103[90m)[39m
    at AuthService.requestMagicLink [90m(/workspace/frontend/[39msrc/services/authService.ts:213:15[90m)[39m
    at [90m/workspace/frontend/[39msrc/services/__tests__/authService.pkce.test.ts:369:7
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:20

stdout | src/services/__tests__/authService.pkce.test.ts > AuthService PKCE Integration > Backend compatibility > should send PKCE challenge in expected format
üîê Generated PKCE challenge for magic link request
üîç DEBUG: Frontend authService sending request body: {
  "email": "test@example.com",
  "name": "Test User",
  "code_challenge": "[REDACTED]"
}

stderr | src/services/__tests__/authService.pkce.test.ts > AuthService PKCE Integration > Backend compatibility > should send PKCE verifier in expected format
Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
    at module.exports (/workspace/frontend/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
    at HTMLCanvasElementImpl.getContext (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:42:5)
    at HTMLCanvasElement.getContext (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:131:58)
    at generateBrowserFingerprint (/workspace/frontend/src/utils/secureStorage.ts:11:22)
    at getEncryptionKey (/workspace/frontend/src/utils/secureStorage.ts:37:31)
    at encryptData (/workspace/frontend/src/utils/secureStorage.ts:76:23)
    at SecureStorage.setItem (/workspace/frontend/src/utils/secureStorage.ts:139:39)
    at AuthService.setAuth (/workspace/frontend/src/services/authService.ts:378:27)
    at AuthService.verifyMagicLink (/workspace/frontend/src/services/authService.ts:275:18)
    at /workspace/frontend/src/services/__tests__/authService.pkce.test.ts:404:7 [90mundefined[39m
Error: Not implemented: HTMLCanvasElement.prototype.toDataURL (without installing the canvas npm package)
    at module.exports (/workspace/frontend/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
    at HTMLCanvasElementImpl.toDataURL (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:55:5)
    at HTMLCanvasElement.toDataURL (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:162:34)
    at generateBrowserFingerprint (/workspace/frontend/src/utils/secureStorage.ts:28:12)
    at getEncryptionKey (/workspace/frontend/src/utils/secureStorage.ts:37:31)
    at encryptData (/workspace/frontend/src/utils/secureStorage.ts:76:23)
    at SecureStorage.setItem (/workspace/frontend/src/utils/secureStorage.ts:139:39)
    at AuthService.setAuth (/workspace/frontend/src/services/authService.ts:378:27)
    at AuthService.verifyMagicLink (/workspace/frontend/src/services/authService.ts:275:18)
    at /workspace/frontend/src/services/__tests__/authService.pkce.test.ts:404:7 [90mundefined[39m

stderr | src/services/__tests__/authService.pkce.test.ts > AuthService PKCE Integration > Backend compatibility > should send PKCE verifier in expected format
Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
    at module.exports (/workspace/frontend/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
    at HTMLCanvasElementImpl.getContext (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:42:5)
    at HTMLCanvasElement.getContext (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:131:58)
    at generateBrowserFingerprint (/workspace/frontend/src/utils/secureStorage.ts:11:22)
    at getEncryptionKey (/workspace/frontend/src/utils/secureStorage.ts:37:31)
    at encryptData (/workspace/frontend/src/utils/secureStorage.ts:76:23)
    at SecureStorage.setItem (/workspace/frontend/src/utils/secureStorage.ts:139:39)
    at AuthService.setAuth (/workspace/frontend/src/services/authService.ts:379:27)
    at AuthService.verifyMagicLink (/workspace/frontend/src/services/authService.ts:275:7)
    at /workspace/frontend/src/services/__tests__/authService.pkce.test.ts:404:7 [90mundefined[39m
Error: Not implemented: HTMLCanvasElement.prototype.toDataURL (without installing the canvas npm package)
    at module.exports (/workspace/frontend/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
    at HTMLCanvasElementImpl.toDataURL (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:55:5)
    at HTMLCanvasElement.toDataURL (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:162:34)
    at generateBrowserFingerprint (/workspace/frontend/src/utils/secureStorage.ts:28:12)
    at getEncryptionKey (/workspace/frontend/src/utils/secureStorage.ts:37:31)
    at encryptData (/workspace/frontend/src/utils/secureStorage.ts:76:23)
    at SecureStorage.setItem (/workspace/frontend/src/utils/secureStorage.ts:139:39)
    at AuthService.setAuth (/workspace/frontend/src/services/authService.ts:379:27)
    at AuthService.verifyMagicLink (/workspace/frontend/src/services/authService.ts:275:7)
    at /workspace/frontend/src/services/__tests__/authService.pkce.test.ts:404:7 [90mundefined[39m

stdout | src/pages/__tests__/VerifyMagicLinkPage.test.tsx > VerifyMagicLinkPage > shows clear error message when PKCE data is missing (cross-context)
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stderr | src/pages/__tests__/VerifyMagicLinkPage.test.tsx > VerifyMagicLinkPage > shows clear error message when PKCE data is missing (cross-context)
Magic link verification error: Error: This magic link must be opened in the same browser/app where it was requested. Please return to your original browser/app and click the link again, or request a new magic link.
    at [90m/workspace/frontend/[39msrc/pages/__tests__/VerifyMagicLinkPage.test.tsx:281:23
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runFiles [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1784:3[90m)[39m

stderr | src/pages/__tests__/VerifyMagicLinkPage.test.tsx > VerifyMagicLinkPage > shows clear error message when PKCE data is missing (cross-context)
Magic link verification failed: Error: This magic link must be opened in the same browser/app where it was requested. Please return to your original browser/app and click the link again, or request a new magic link.
    at [90m/workspace/frontend/[39msrc/pages/__tests__/VerifyMagicLinkPage.test.tsx:281:23
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runFiles [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1784:3[90m)[39m

 ‚úì src/pages/__tests__/VerifyMagicLinkPage.test.tsx (13 tests) 860ms
   ‚úì VerifyMagicLinkPage > does not retry verification after failure (prevents infinite loop)  512ms
stdout | src/services/__tests__/authService.pkce.test.ts > AuthService PKCE Integration > Backend compatibility > should send PKCE verifier in expected format
‚úÖ Magic link verified successfully with PKCE

stdout | src/services/__tests__/authService.pkce.test.ts > AuthService PKCE Integration > Concurrent request handling > should handle multiple simultaneous magic link requests
üîê Generated PKCE challenge for magic link request
üîç DEBUG: Frontend authService sending request body: {
  "email": "user1@example.com",
  "code_challenge": "[REDACTED]"
}
üîê Generated PKCE challenge for magic link request
üîç DEBUG: Frontend authService sending request body: {
  "email": "user2@example.com",
  "code_challenge": "[REDACTED]"
}
üîê Generated PKCE challenge for magic link request
üîç DEBUG: Frontend authService sending request body: {
  "email": "user3@example.com",
  "code_challenge": "[REDACTED]"
}

stdout | src/services/__tests__/authService.pkce.test.ts > AuthService PKCE Integration > Concurrent request handling > should handle rapid request-verify cycles
üîê Generated PKCE challenge for magic link request
üîç DEBUG: Frontend authService sending request body: {
  "email": "test@example.com",
  "code_challenge": "[REDACTED]"
}

stderr | src/services/__tests__/authService.pkce.test.ts > AuthService PKCE Integration > Concurrent request handling > should handle rapid request-verify cycles
Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
    at module.exports (/workspace/frontend/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
    at HTMLCanvasElementImpl.getContext (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:42:5)
    at HTMLCanvasElement.getContext (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:131:58)
    at generateBrowserFingerprint (/workspace/frontend/src/utils/secureStorage.ts:11:22)
    at getEncryptionKey (/workspace/frontend/src/utils/secureStorage.ts:37:31)
    at encryptData (/workspace/frontend/src/utils/secureStorage.ts:76:23)
    at SecureStorage.setItem (/workspace/frontend/src/utils/secureStorage.ts:139:39)
    at AuthService.setAuth (/workspace/frontend/src/services/authService.ts:378:27)
    at AuthService.verifyMagicLink (/workspace/frontend/src/services/authService.ts:275:18)
    at /workspace/frontend/src/services/__tests__/authService.pkce.test.ts:456:7 [90mundefined[39m
Error: Not implemented: HTMLCanvasElement.prototype.toDataURL (without installing the canvas npm package)
    at module.exports (/workspace/frontend/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
    at HTMLCanvasElementImpl.toDataURL (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:55:5)
    at HTMLCanvasElement.toDataURL (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:162:34)
    at generateBrowserFingerprint (/workspace/frontend/src/utils/secureStorage.ts:28:12)
    at getEncryptionKey (/workspace/frontend/src/utils/secureStorage.ts:37:31)
    at encryptData (/workspace/frontend/src/utils/secureStorage.ts:76:23)
    at SecureStorage.setItem (/workspace/frontend/src/utils/secureStorage.ts:139:39)
    at AuthService.setAuth (/workspace/frontend/src/services/authService.ts:378:27)
    at AuthService.verifyMagicLink (/workspace/frontend/src/services/authService.ts:275:18)
    at /workspace/frontend/src/services/__tests__/authService.pkce.test.ts:456:7 [90mundefined[39m

stderr | src/services/__tests__/authService.pkce.test.ts > AuthService PKCE Integration > Concurrent request handling > should handle rapid request-verify cycles
Error: Not implemented: HTMLCanvasElement.prototype.getContext (without installing the canvas npm package)
    at module.exports (/workspace/frontend/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
    at HTMLCanvasElementImpl.getContext (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:42:5)
    at HTMLCanvasElement.getContext (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:131:58)
    at generateBrowserFingerprint (/workspace/frontend/src/utils/secureStorage.ts:11:22)
    at getEncryptionKey (/workspace/frontend/src/utils/secureStorage.ts:37:31)
    at encryptData (/workspace/frontend/src/utils/secureStorage.ts:76:23)
    at SecureStorage.setItem (/workspace/frontend/src/utils/secureStorage.ts:139:39)
    at AuthService.setAuth (/workspace/frontend/src/services/authService.ts:379:27)
    at AuthService.verifyMagicLink (/workspace/frontend/src/services/authService.ts:275:7)
    at /workspace/frontend/src/services/__tests__/authService.pkce.test.ts:456:7 [90mundefined[39m
Error: Not implemented: HTMLCanvasElement.prototype.toDataURL (without installing the canvas npm package)
    at module.exports (/workspace/frontend/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
    at HTMLCanvasElementImpl.toDataURL (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/nodes/HTMLCanvasElement-impl.js:55:5)
    at HTMLCanvasElement.toDataURL (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/generated/HTMLCanvasElement.js:162:34)
    at generateBrowserFingerprint (/workspace/frontend/src/utils/secureStorage.ts:28:12)
    at getEncryptionKey (/workspace/frontend/src/utils/secureStorage.ts:37:31)
    at encryptData (/workspace/frontend/src/utils/secureStorage.ts:76:23)
    at SecureStorage.setItem (/workspace/frontend/src/utils/secureStorage.ts:139:39)
    at AuthService.setAuth (/workspace/frontend/src/services/authService.ts:379:27)
    at AuthService.verifyMagicLink (/workspace/frontend/src/services/authService.ts:275:7)
    at /workspace/frontend/src/services/__tests__/authService.pkce.test.ts:456:7 [90mundefined[39m

stdout | src/services/__tests__/authService.pkce.test.ts > AuthService PKCE Integration > Concurrent request handling > should handle rapid request-verify cycles
‚úÖ Magic link verified successfully with PKCE

 ‚úì src/services/__tests__/authService.pkce.test.ts (24 tests) 305ms
 ‚úì src/pages/__tests__/VehiclesPage.cacheInvalidation.test.tsx (3 tests) 392ms
stderr | src/components/layout/__tests__/MobileNav.test.tsx > MobileNav > Navigation Callbacks > should call onNavigate when Dashboard link is clicked
Error: Not implemented: navigation (except hash changes)
    at module.exports (/workspace/frontend/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
    at navigateFetch (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/window/navigation.js:77:3)
    at exports.navigate (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/window/navigation.js:55:3)
    at Timeout._onTimeout (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/nodes/HTMLHyperlinkElementUtils-impl.js:80:7)
    at listOnTimeout (node:internal/timers:581:17)
    at processTimers (node:internal/timers:519:7) [90mundefined[39m

stderr | src/components/layout/__tests__/MobileNav.test.tsx > MobileNav > Navigation Callbacks > should call onNavigate when Manage Family link is clicked
Error: Not implemented: navigation (except hash changes)
    at module.exports (/workspace/frontend/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
    at navigateFetch (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/window/navigation.js:77:3)
    at exports.navigate (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/window/navigation.js:55:3)
    at Timeout._onTimeout (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/nodes/HTMLHyperlinkElementUtils-impl.js:80:7)
    at listOnTimeout (node:internal/timers:581:17)
    at processTimers (node:internal/timers:519:7) [90mundefined[39m

stderr | src/components/layout/__tests__/MobileNav.test.tsx > MobileNav > Navigation Callbacks > should call onNavigate when Groups link is clicked
Error: Not implemented: navigation (except hash changes)
    at module.exports (/workspace/frontend/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
    at navigateFetch (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/window/navigation.js:77:3)
    at exports.navigate (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/window/navigation.js:55:3)
    at Timeout._onTimeout (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/nodes/HTMLHyperlinkElementUtils-impl.js:80:7)
    at listOnTimeout (node:internal/timers:581:17)
    at processTimers (node:internal/timers:519:7) [90mundefined[39m

stderr | src/components/layout/__tests__/MobileNav.test.tsx > MobileNav > Navigation Callbacks > should call onNavigate when Schedule link is clicked
Error: Not implemented: navigation (except hash changes)
    at module.exports (/workspace/frontend/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
    at navigateFetch (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/window/navigation.js:77:3)
    at exports.navigate (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/window/navigation.js:55:3)
    at Timeout._onTimeout (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/nodes/HTMLHyperlinkElementUtils-impl.js:80:7)
    at listOnTimeout (node:internal/timers:581:17)
    at processTimers (node:internal/timers:519:7) [90mundefined[39m

stderr | src/components/layout/__tests__/MobileNav.test.tsx > MobileNav > Navigation Callbacks > should call onNavigate when Profile link is clicked
Error: Not implemented: navigation (except hash changes)
    at module.exports (/workspace/frontend/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
    at navigateFetch (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/window/navigation.js:77:3)
    at exports.navigate (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/window/navigation.js:55:3)
    at Timeout._onTimeout (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/nodes/HTMLHyperlinkElementUtils-impl.js:80:7)
    at listOnTimeout (node:internal/timers:581:17)
    at processTimers (node:internal/timers:519:7) [90mundefined[39m

stderr | src/components/layout/__tests__/MobileNav.test.tsx > MobileNav > Navigation Callbacks > should call onNavigate for each click independently
Error: Not implemented: navigation (except hash changes)
    at module.exports (/workspace/frontend/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
    at navigateFetch (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/window/navigation.js:77:3)
    at exports.navigate (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/window/navigation.js:55:3)
    at Timeout._onTimeout (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/nodes/HTMLHyperlinkElementUtils-impl.js:80:7)
    at listOnTimeout (node:internal/timers:581:17)
    at processTimers (node:internal/timers:519:7) [90mundefined[39m

stderr | src/components/layout/__tests__/MobileNav.test.tsx > MobileNav > Navigation Callbacks > should call onNavigate for each click independently
Error: Not implemented: navigation (except hash changes)
    at module.exports (/workspace/frontend/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
    at navigateFetch (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/window/navigation.js:77:3)
    at exports.navigate (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/window/navigation.js:55:3)
    at Timeout._onTimeout (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/nodes/HTMLHyperlinkElementUtils-impl.js:80:7)
    at listOnTimeout (node:internal/timers:581:17)
    at processTimers (node:internal/timers:519:7) [90mundefined[39m

stderr | src/components/layout/__tests__/MobileNav.test.tsx > MobileNav > Accessibility > should support keyboard navigation
Error: Not implemented: navigation (except hash changes)
    at module.exports (/workspace/frontend/node_modules/jsdom/lib/jsdom/browser/not-implemented.js:9:17)
    at navigateFetch (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/window/navigation.js:77:3)
    at exports.navigate (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/window/navigation.js:55:3)
    at Timeout._onTimeout (/workspace/frontend/node_modules/jsdom/lib/jsdom/living/nodes/HTMLHyperlinkElementUtils-impl.js:80:7)
    at listOnTimeout (node:internal/timers:581:17)
    at processTimers (node:internal/timers:519:7) [90mundefined[39m

 ‚úì src/components/layout/__tests__/MobileNav.test.tsx (19 tests) 435ms
stderr | src/pages/__tests__/ChildrenPage.cacheInvalidation.test.tsx > ChildrenPage - Cache Invalidation > should invalidate schedule-related queries when child is created
Each child in a list should have a unique "key" prop.

Check the render method of `Primitive.div`. It was passed a child from ChildrenPage. See https://react.dev/link/warning-keys for more information.
Each child in a list should have a unique "key" prop.

Check the render method of `select`. It was passed a child from SelectItemText. See https://react.dev/link/warning-keys for more information.

 ‚úì src/pages/__tests__/ChildrenPage.cacheInvalidation.test.tsx (3 tests) 480ms
 ‚úì src/pages/__tests__/DashboardPage.realSchedule.test.tsx (9 tests) 426ms
stderr | src/components/__tests__/InvitationManagement.test.tsx > InvitationManagement > opens invite dialog when invite button is clicked
In HTML, <div> cannot be a child of <select>.
This will cause a hydration error.

  <InvitationManagement members={[...]} pendingInvitations={[...]} loadingInvitations={false} isAdmin={true} ...>
    <div className="space-y-4">
      <div>
      <div>
      <Dialog open={true} onOpenChange={function bound dispatchSetState}>
        <div data-testid="dialog">
          <DialogContent>
            <div data-testid="dialog-con...">
              <DialogHeader>
              <div className="space-y-4">
                <div>
                <div className="space-y-2">
                  <Label>
                  <Select value="PARENT" onValueChange={function bound dispatchSetState}>
>                   <select data-testid="select" value="PARENT" onChange={function onChange}>
                      <SelectTrigger data-testid="Invitation...">
>                       <div>
                      ...
                ...
              ...

<select> cannot contain a nested <div>.
See this log for the ancestor stack trace.

 ‚úì src/pages/__tests__/DashboardPage.realData.test.tsx (7 tests) 303ms
stderr | src/components/__tests__/InvitationManagement.test.tsx > InvitationManagement > calls onInviteMember with correct data when form is submitted
An update to InvitationManagement inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to InvitationManagement inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to InvitationManagement inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to InvitationManagement inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to InvitationManagement inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 ‚úì src/components/__tests__/InvitationManagement.test.tsx (13 tests) 195ms
 ‚úì src/pages/__tests__/DashboardPage.quickActions.test.tsx (5 tests) 191ms
stdout | src/pages/__tests__/ManageGroupPage.familyLink.test.tsx > ManageGroupPage - Family Link > should render "View my family" link for user's own family
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/ManageGroupPage.familyLink.test.tsx > ManageGroupPage - Family Link > should not render "View my family" link for other families
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

stdout | src/pages/__tests__/ManageGroupPage.familyLink.test.tsx > ManageGroupPage - Family Link > should use React Router Link component with correct path
üîç DEBUG FAMILYCONTEXT: useEffect triggered, isAuthenticated = [33mfalse[39m , user = [33mfalse[39m
üîç DEBUG FAMILYCONTEXT: Clearing family data

 ‚úì src/pages/__tests__/ManageGroupPage.familyLink.test.tsx (3 tests) 251ms
 ‚úì src/pages/__tests__/ChildrenPage.layout.test.tsx (4 tests) 168ms
 ‚úì src/components/__tests__/VehicleSelectionModal.seatOverride.test.tsx (7 tests) 262ms
stderr | src/contexts/__tests__/AuthContext.test.tsx > AuthContext > clears auth if token refresh fails
Token refresh failed: Error: Refresh failed
    at [90m/workspace/frontend/[39msrc/contexts/__tests__/AuthContext.test.tsx:85:56
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runFiles [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1784:3[90m)[39m

stderr | src/contexts/__tests__/AuthContext.test.tsx > AuthContext > handles login errors
Login error: Error: Login failed
    at [90m/workspace/frontend/[39msrc/contexts/__tests__/AuthContext.test.tsx:174:60
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runFiles [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1784:3[90m)[39m

stderr | src/contexts/__tests__/AuthContext.test.tsx > AuthContext > handles magic link verification errors
Magic link verification error: Error: Verification failed
    at [90m/workspace/frontend/[39msrc/contexts/__tests__/AuthContext.test.tsx:216:59
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runFiles [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1784:3[90m)[39m

stderr | src/contexts/__tests__/AuthContext.test.tsx > AuthContext > clears user state even if logout fails
Logout error: Error: Logout failed
    at [90m/workspace/frontend/[39msrc/contexts/__tests__/AuthContext.test.tsx:258:50
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runFiles [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1784:3[90m)[39m

stderr | src/contexts/__tests__/AuthContext.test.tsx > AuthContext > logs out user if token refresh fails
Token refresh error: Error: Refresh failed
    at [90m/workspace/frontend/[39msrc/contexts/__tests__/AuthContext.test.tsx:297:56
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runFiles [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1784:3[90m)[39m

 ‚úì src/contexts/__tests__/AuthContext.test.tsx (16 tests) 212ms
stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should create socket connection when user is authenticated
Creating new socket connection with fresh token
Socket URL: http://localhost:3001

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should create socket connection when user is authenticated
Cleaning up socket connection

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle socket connection events
Creating new socket connection with fresh token
Socket URL: http://localhost:3001

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle socket connection events
Socket connected: mock-socket-id

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle socket connection events
Cleaning up socket connection

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle socket disconnection events
Creating new socket connection with fresh token
Socket URL: http://localhost:3001

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle socket disconnection events
Socket disconnected: io server disconnect

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle socket disconnection events
Cleaning up socket connection

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle different disconnect reasons
Creating new socket connection with fresh token
Socket URL: http://localhost:3001

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle different disconnect reasons
Socket disconnected: io client disconnect

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle different disconnect reasons
Socket disconnected: transport close

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle different disconnect reasons
Cleaning up socket connection

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle socket connection errors
Creating new socket connection with fresh token
Socket URL: http://localhost:3001

stderr | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle socket connection errors
Socket connection error: Error: Connection failed
    at [90m/workspace/frontend/[39msrc/contexts/__tests__/SocketContext.test.tsx:243:37
    at [90m/workspace/frontend/[39mnode_modules/[4m@testing-library[24m/react/dist/act-compat.js:48:24
    at process.env.NODE_ENV.exports.act [90m(/workspace/frontend/[39mnode_modules/[4mreact[24m/cjs/react.development.js:789:22[90m)[39m
    at Proxy.<anonymous> [90m(/workspace/frontend/[39mnode_modules/[4m@testing-library[24m/react/dist/act-compat.js:47:25[90m)[39m
    at [90m/workspace/frontend/[39msrc/contexts/__tests__/SocketContext.test.tsx:242:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:20

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle socket connection errors
Application continues to work without real-time updates

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle socket connection errors
Cleaning up socket connection

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle authentication errors
Creating new socket connection with fresh token
Socket URL: http://localhost:3001

stderr | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle authentication errors
Socket connection error: Error: Unauthorized
    at [90m/workspace/frontend/[39msrc/contexts/__tests__/SocketContext.test.tsx:258:37
    at [90m/workspace/frontend/[39mnode_modules/[4m@testing-library[24m/react/dist/act-compat.js:48:24
    at process.env.NODE_ENV.exports.act [90m(/workspace/frontend/[39mnode_modules/[4mreact[24m/cjs/react.development.js:789:22[90m)[39m
    at Proxy.<anonymous> [90m(/workspace/frontend/[39mnode_modules/[4m@testing-library[24m/react/dist/act-compat.js:47:25[90m)[39m
    at [90m/workspace/frontend/[39msrc/contexts/__tests__/SocketContext.test.tsx:257:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:20

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle authentication errors
Application continues to work without real-time updates

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle authentication errors
Cleaning up socket connection

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle timeout errors
Creating new socket connection with fresh token
Socket URL: http://localhost:3001

stderr | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle timeout errors
Socket connection error: Error: timeout
    at [90m/workspace/frontend/[39msrc/contexts/__tests__/SocketContext.test.tsx:273:37
    at [90m/workspace/frontend/[39mnode_modules/[4m@testing-library[24m/react/dist/act-compat.js:48:24
    at process.env.NODE_ENV.exports.act [90m(/workspace/frontend/[39mnode_modules/[4mreact[24m/cjs/react.development.js:789:22[90m)[39m
    at Proxy.<anonymous> [90m(/workspace/frontend/[39mnode_modules/[4m@testing-library[24m/react/dist/act-compat.js:47:25[90m)[39m
    at [90m/workspace/frontend/[39msrc/contexts/__tests__/SocketContext.test.tsx:272:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:20

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle timeout errors
Application continues to work without real-time updates

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle timeout errors
Cleaning up socket connection

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle reconnection events
Creating new socket connection with fresh token
Socket URL: http://localhost:3001

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle reconnection events
Attempting to reconnect... [33m2[39m

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle reconnection events
Reconnected after [33m3[39m attempts

stderr | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle reconnection events
Failed to reconnect after maximum attempts

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle reconnection events
Application will continue without real-time updates. Manual refresh may restore real-time features.

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle reconnection events
Cleaning up socket connection

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should invalidate queries on schedule events
Creating new socket connection with fresh token
Socket URL: http://localhost:3001

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should invalidate queries on schedule events
üîÑ SCHEDULE_UPDATED: { groupId: [32m'group-1'[39m }

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should invalidate queries on schedule events
Cleaning up socket connection

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should invalidate queries on schedule slot events
Creating new socket connection with fresh token
Socket URL: http://localhost:3001

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should invalidate queries on schedule slot events
üîÑ SCHEDULE_SLOT_UPDATED: { groupId: [32m'group-1'[39m, scheduleSlotId: [32m'slot-1'[39m }

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should invalidate queries on schedule slot events
Cleaning up socket connection

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should remove queries on schedule slot deleted events
Creating new socket connection with fresh token
Socket URL: http://localhost:3001

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should remove queries on schedule slot deleted events
üîÑ SCHEDULE_SLOT_DELETED: { groupId: [32m'group-1'[39m, scheduleSlotId: [32m'slot-1'[39m }

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should remove queries on schedule slot deleted events
Cleaning up socket connection

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle child management events for current user
Creating new socket connection with fresh token
Socket URL: http://localhost:3001

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle child management events for current user
üîÑ CHILD_ADDED: { userId: [32m'user-1'[39m, familyId: [32m'family-1'[39m }

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle child management events for current user
Cleaning up socket connection

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should not handle child management events for other users
Creating new socket connection with fresh token
Socket URL: http://localhost:3001

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should not handle child management events for other users
üîÑ CHILD_ADDED: { userId: [32m'other-user-id'[39m, familyId: [32m'family-1'[39m }

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should not handle child management events for other users
Cleaning up socket connection

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle vehicle management events for current user
Creating new socket connection with fresh token
Socket URL: http://localhost:3001

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle vehicle management events for current user
üîÑ VEHICLE_UPDATED: { userId: [32m'user-1'[39m, familyId: [32m'family-1'[39m }

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle vehicle management events for current user
Cleaning up socket connection

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle group management events
Creating new socket connection with fresh token
Socket URL: http://localhost:3001

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle group management events
üîÑ GROUP_UPDATED: { groupId: [32m'group-1'[39m, familyId: [32m'family-1'[39m }

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle group management events
Cleaning up socket connection

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle family management events
Creating new socket connection with fresh token
Socket URL: http://localhost:3001

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle family management events
üîÑ FAMILY_MEMBER_JOINED: { familyId: [32m'family-1'[39m }

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle family management events
Cleaning up socket connection

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle legacy event support
Creating new socket connection with fresh token
Socket URL: http://localhost:3001

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle legacy event support
üîÑ SCHEDULE_UPDATED: { groupId: [32m'group-1'[39m }

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle legacy event support
Cleaning up socket connection

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle notification events
Cleaning up socket connection

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle conflict detection events
Cleaning up socket connection

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle capacity warning events
Cleaning up socket connection

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should cleanup socket on unmount
Creating new socket connection with fresh token
Socket URL: http://localhost:3001

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should cleanup socket on unmount
Cleaning up socket connection

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should cleanup socket when user becomes unauthenticated
Creating new socket connection with fresh token
Socket URL: http://localhost:3001

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should cleanup socket when user becomes unauthenticated
Cleaning up socket connection

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle multiple event types correctly
Creating new socket connection with fresh token
Socket URL: http://localhost:3001

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle multiple event types correctly
üîÑ SCHEDULE_SLOT_CREATED: { groupId: [32m'group-1'[39m }
üîÑ MEMBER_JOINED: { groupId: [32m'group-1'[39m, familyId: [32m'family-1'[39m }

stdout | src/contexts/__tests__/SocketContext.test.tsx > SocketContext > should handle multiple event types correctly
Cleaning up socket connection

 ‚úì src/contexts/__tests__/SocketContext.test.tsx (25 tests) 220ms
 ‚úì src/components/__tests__/VehicleSelectionModal.improvedUX.test.tsx (8 tests) 132ms
 ‚úì src/components/__tests__/GroupCard.test.tsx (11 tests) 145ms
 ‚úì src/components/ui/__tests__/onboarding-banner.test.tsx (16 tests) 119ms
 ‚úì src/contexts/__tests__/AuthContext.401redirect.test.tsx (10 tests) 88ms
 ‚úì src/components/__tests__/ChildAssignmentModal.capacity.test.tsx (3 tests) 141ms
stderr | src/components/family/__tests__/FamilyRequiredRoute.test.tsx > FamilyRequiredRoute > Family requirement states > should navigate to onboarding when family is required
üîç DEBUG: Redirecting to onboarding because family check is complete and no family was found: {
  requiresFamily: [33mtrue[39m,
  hasFamily: [33mfalse[39m,
  apiStatus: [32m'connected'[39m,
  isAuthenticated: [33mtrue[39m,
  authLoading: [33mfalse[39m,
  isCheckingFamily: [33mfalse[39m,
  familyLoading: [33mfalse[39m
}

stderr | src/components/family/__tests__/FamilyRequiredRoute.test.tsx > FamilyRequiredRoute > Family requirement states > should navigate to onboarding when user has no family
üîç DEBUG: Redirecting to onboarding because family check is complete and no family was found: {
  requiresFamily: [33mfalse[39m,
  hasFamily: [33mfalse[39m,
  apiStatus: [32m'connected'[39m,
  isAuthenticated: [33mtrue[39m,
  authLoading: [33mfalse[39m,
  isCheckingFamily: [33mfalse[39m,
  familyLoading: [33mfalse[39m
}

stderr | src/components/family/__tests__/FamilyRequiredRoute.test.tsx > FamilyRequiredRoute > Onboarding completion > should navigate to onboarding when completion is required
üîç DEBUG: Redirecting to onboarding because family check is complete and no family was found: {
  requiresFamily: [33mtrue[39m,
  hasFamily: [33mfalse[39m,
  apiStatus: [32m'connected'[39m,
  isAuthenticated: [33mtrue[39m,
  authLoading: [33mfalse[39m,
  isCheckingFamily: [33mfalse[39m,
  familyLoading: [33mfalse[39m
}

 ‚úì src/components/family/__tests__/FamilyRequiredRoute.test.tsx (12 tests) 74ms
 ‚úì src/components/__tests__/InlineSeatAdjuster.test.tsx (7 tests) 85ms
stdout | src/services/__tests__/authService.401redirect.test.ts > AuthService 401 Redirect > should save redirect location and clear auth on 401 response
üîí 401 Unauthorized detected - redirecting to login
üö´ No token found or refresh in progress - redirecting to login
üöÄ redirectToLogin() called
Current pathname: /schedule
Current path to store: /schedule?test=1
üìç Storing redirect path: /schedule?test=1
üîÄ Clearing auth - React Router will handle redirect

stdout | src/services/__tests__/authService.401redirect.test.ts > AuthService 401 Redirect > should handle 401 for all endpoints the same way
üîí 401 Unauthorized detected - redirecting to login
üö´ No token found or refresh in progress - redirecting to login
üöÄ redirectToLogin() called
Current pathname: /schedule
Current path to store: /schedule?test=1
üìç Storing redirect path: /schedule?test=1
üîÄ Clearing auth - React Router will handle redirect

stdout | src/services/__tests__/authService.401redirect.test.ts > AuthService 401 Redirect > should not save redirect for login page
üßπ PKCE data cleared from secure storage

stdout | src/services/__tests__/authService.401redirect.test.ts > AuthService 401 Redirect > should not save redirect for login page
üßπ PKCE data cleared from secure storage

stdout | src/services/__tests__/authService.401redirect.test.ts > AuthService 401 Redirect > should not save redirect for login page
üîí 401 Unauthorized detected - redirecting to login
üö´ No token found or refresh in progress - redirecting to login
üöÄ redirectToLogin() called
Current pathname: /login
üîÄ Clearing auth - React Router will handle redirect

stdout | src/services/__tests__/authService.401redirect.test.ts > AuthService 401 Redirect > should handle non-401 errors without redirecting
üßπ PKCE data cleared from secure storage

stdout | src/services/__tests__/authService.401redirect.test.ts > AuthService 401 Redirect > should save redirect location on 401 from API endpoints
üîí 401 Unauthorized detected - redirecting to login
üö´ No token found or refresh in progress - redirecting to login
üöÄ redirectToLogin() called
Current pathname: /children
Current path to store: /children?filter=active
üìç Storing redirect path: /children?filter=active
üîÄ Clearing auth - React Router will handle redirect

stdout | src/services/__tests__/authService.401redirect.test.ts > AuthService 401 Redirect > should save redirect for onboarding pages
üßπ PKCE data cleared from secure storage

stdout | src/services/__tests__/authService.401redirect.test.ts > AuthService 401 Redirect > should save redirect for onboarding pages
üîí 401 Unauthorized detected - redirecting to login
üö´ No token found or refresh in progress - redirecting to login
üöÄ redirectToLogin() called
Current pathname: /onboarding
Current path to store: /onboarding
üìç Storing redirect path: /onboarding
üîÄ Clearing auth - React Router will handle redirect

stdout | src/services/__tests__/authService.401redirect.test.ts > AuthService 401 Redirect > should handle 401 for refresh token endpoint
üîí 401 Unauthorized detected - redirecting to login
üö´ Refresh token request failed with 401 - logging out
üöÄ redirectToLogin() called
Current pathname: /schedule
Current path to store: /schedule?test=1
üìç Storing redirect path: /schedule?test=1
üîÄ Clearing auth - React Router will handle redirect

stdout | src/services/__tests__/authService.401redirect.test.ts > AuthService 401 Redirect > should handle 401 for refresh token endpoint
üßπ PKCE data cleared from secure storage

stdout | src/services/__tests__/authService.401redirect.test.ts > AuthService 401 Redirect > should handle 401 for verify magic link endpoint
üßπ PKCE data cleared from secure storage
üßπ PKCE data cleared from secure storage

stdout | src/services/__tests__/authService.401redirect.test.ts > AuthService 401 Redirect > should handle 401 for verify magic link endpoint
üîí 401 Unauthorized detected - redirecting to login
üö´ No token found or refresh in progress - redirecting to login
üöÄ redirectToLogin() called
Current pathname: /schedule
Current path to store: /schedule?test=1
üìç Storing redirect path: /schedule?test=1
üîÄ Clearing auth - React Router will handle redirect

stdout | src/services/__tests__/authService.401redirect.test.ts > AuthService 401 Redirect > should clear auth data on 401 redirect
üßπ PKCE data cleared from secure storage

stdout | src/services/__tests__/authService.401redirect.test.ts > AuthService 401 Redirect > should clear auth data on 401 redirect
üîí 401 Unauthorized detected - redirecting to login
üö´ No token found or refresh in progress - redirecting to login
üöÄ redirectToLogin() called
Current pathname: /schedule
Current path to store: /schedule?test=1
üìç Storing redirect path: /schedule?test=1
üîÄ Clearing auth - React Router will handle redirect

stdout | src/services/__tests__/authService.401redirect.test.ts > AuthService 401 Redirect > should include auth token in API requests
üßπ PKCE data cleared from secure storage

stdout | src/services/__tests__/authService.401redirect.test.ts > AuthService 401 Redirect > should attempt token refresh when user has token and gets 401
üîí 401 Unauthorized detected - redirecting to login

stdout | src/services/__tests__/authService.401redirect.test.ts > AuthService 401 Redirect > should attempt token refresh when user has token and gets 401
üîÑ Token refresh failed - logging out
üöÄ redirectToLogin() called
Current pathname: /schedule
Current path to store: /schedule?test=1
üìç Storing redirect path: /schedule?test=1
üîÄ Clearing auth - React Router will handle redirect

stdout | src/services/__tests__/authService.401redirect.test.ts > AuthService 401 Redirect > should retry request after successful token refresh
üßπ PKCE data cleared from secure storage
üßπ PKCE data cleared from secure storage

stdout | src/services/__tests__/authService.401redirect.test.ts > AuthService 401 Redirect > should retry request after successful token refresh
üîí 401 Unauthorized detected - redirecting to login

 ‚úì src/components/__tests__/GroupMembershipWarning.test.tsx (17 tests) 89ms
stdout | src/services/__tests__/authService.401redirect.test.ts > AuthService 401 Redirect > should prevent infinite loop when refresh token endpoint returns 401
üîí 401 Unauthorized detected - redirecting to login
üö´ Refresh token request failed with 401 - logging out
üöÄ redirectToLogin() called
Current pathname: /schedule
Current path to store: /schedule?test=1
üìç Storing redirect path: /schedule?test=1
üîÄ Clearing auth - React Router will handle redirect

 ‚úì src/services/__tests__/authService.401redirect.test.ts (15 tests) 73ms
stdout | clearPKCEData (/workspace/frontend/src/utils/pkceUtils.ts:155:13)
üßπ PKCE data cleared from secure storage
üßπ PKCE data cleared from secure storage

 ‚úì src/components/common/__tests__/BackendConnectionAlert.test.tsx (11 tests) 66ms
 ‚úì src/components/__tests__/ConnectionIndicator.test.tsx (5 tests) 75ms
 ‚úì src/components/__tests__/VehicleForm.maxCapacity.test.tsx (4 tests) 67ms
 ‚úì src/components/__tests__/ProtectedRoute.401redirect.test.tsx (9 tests) 59ms
 ‚úì src/components/__tests__/ProtectedRoute.401redirect.simple.test.tsx (7 tests) 57ms
 ‚úì src/utils/__tests__/weekCalculations.test.ts (49 tests) 57ms
stdout | src/pages/__tests__/OnboardingPage.test.tsx > OnboardingPage > redirects to dashboard when user already has a family
üîÑ OnboardingPage: User already has a family, redirecting to dashboard

 ‚úì src/pages/__tests__/OnboardingPage.test.tsx (4 tests) 45ms
 ‚úì src/hooks/__tests__/useFamilyRequirement.test.ts (16 tests) 39ms
 ‚úì src/utils/__tests__/dateFormatting.test.ts (11 tests) 29ms
stderr | src/utils/__tests__/pkceUtils.test.ts > PKCE Utils > generatePKCEPair > should throw error for invalid length
PKCE generation failed: Error: PKCE code verifier length must be between 43 and 128 characters
    at Module.generatePKCEPair [90m(/workspace/frontend/[39msrc/utils/pkceUtils.ts:38:13[90m)[39m
    at [90m/workspace/frontend/[39msrc/utils/__tests__/pkceUtils.test.ts:74:20
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m

stdout | src/utils/__tests__/pkceUtils.test.ts > PKCE Utils > storePKCEPair > should store PKCE pair and email in secure storage
üîê PKCE pair stored successfully in secure storage

stdout | src/utils/__tests__/pkceUtils.test.ts > PKCE Utils > storePKCEPair > should normalize email to lowercase
üîê PKCE pair stored successfully in secure storage

stderr | src/utils/__tests__/pkceUtils.test.ts > PKCE Utils > storePKCEPair > should throw error for invalid PKCE pair
PKCE storage failed: Error: Invalid PKCE pair - missing verifier or challenge
    at Module.storePKCEPair [90m(/workspace/frontend/[39msrc/utils/pkceUtils.ts:65:13[90m)[39m
    at [90m/workspace/frontend/[39msrc/utils/__tests__/pkceUtils.test.ts:99:20
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m

stderr | src/utils/__tests__/pkceUtils.test.ts > PKCE Utils > storePKCEPair > should throw error for empty email
PKCE storage failed: Error: Email is required for PKCE storage
    at Module.storePKCEPair [90m(/workspace/frontend/[39msrc/utils/pkceUtils.ts:69:13[90m)[39m
    at [90m/workspace/frontend/[39msrc/utils/__tests__/pkceUtils.test.ts:105:20
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m

stderr | src/utils/__tests__/pkceUtils.test.ts > PKCE Utils > getPKCEVerifier > should return null when no verifier is stored
No PKCE verifier found in secure storage

stderr | src/utils/__tests__/pkceUtils.test.ts > PKCE Utils > getPKCEVerifier > should handle secureStorage errors gracefully
Failed to retrieve PKCE verifier: Error: Secure storage unavailable
    at [90m/workspace/frontend/[39msrc/utils/__tests__/pkceUtils.test.ts:131:51
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m

stdout | src/utils/__tests__/pkceUtils.test.ts > PKCE Utils > clearPKCEData > should clear all PKCE data from secure storage
üßπ PKCE data cleared from secure storage

stdout | src/utils/__tests__/pkceUtils.test.ts > PKCE Utils > generateAndStorePKCEPair > should generate and store PKCE pair
üîê PKCE pair stored successfully in secure storage

stdout | src/utils/__tests__/pkceUtils.test.ts > PKCE Utils > Security considerations > should clear data when email validation fails
üßπ PKCE data cleared from secure storage

stderr | src/utils/__tests__/pkceUtils.test.ts > PKCE Utils > Security considerations > should clear data when email validation fails
PKCE verifier email mismatch - security risk detected

stderr | src/utils/__tests__/pkceUtils.test.ts > PKCE Utils > RFC 7636 compliance > should enforce minimum verifier length
PKCE generation failed: Error: PKCE code verifier length must be between 43 and 128 characters
    at Module.generatePKCEPair [90m(/workspace/frontend/[39msrc/utils/pkceUtils.ts:38:13[90m)[39m
    at [90m/workspace/frontend/[39msrc/utils/__tests__/pkceUtils.test.ts:290:20
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m

stderr | src/utils/__tests__/pkceUtils.test.ts > PKCE Utils > RFC 7636 compliance > should enforce maximum verifier length
PKCE generation failed: Error: PKCE code verifier length must be between 43 and 128 characters
    at Module.generatePKCEPair [90m(/workspace/frontend/[39msrc/utils/pkceUtils.ts:38:13[90m)[39m
    at [90m/workspace/frontend/[39msrc/utils/__tests__/pkceUtils.test.ts:294:20
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1894:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1860:10[90m)[39m
    at runTest [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1571:12[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at runSuite [90m(file:///workspace/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1726:8[90m)[39m

 ‚úì src/utils/__tests__/pkceUtils.test.ts (27 tests) 28ms
 ‚úì src/services/__tests__/apiService.test.ts (18 tests) 50ms
stderr | src/utils/__tests__/dateValidation.test.ts > Date Validation Utils > isDateInPast > should return true for yesterday
isDateInPast called without timezone - using UTC

stderr | src/utils/__tests__/dateValidation.test.ts > Date Validation Utils > isDateInPast > should return false for today at same time
isDateInPast called without timezone - using UTC

stderr | src/utils/__tests__/dateValidation.test.ts > Date Validation Utils > isDateInPast > should return false for today at future time
isDateInPast called without timezone - using UTC

stderr | src/utils/__tests__/dateValidation.test.ts > Date Validation Utils > isDateInPast > should return true for today at past time
isDateInPast called without timezone - using UTC

stderr | src/utils/__tests__/dateValidation.test.ts > Date Validation Utils > isDateInPast > should return false for tomorrow
isDateInPast called without timezone - using UTC

stderr | src/utils/__tests__/dateValidation.test.ts > Date Validation Utils > isDateInPast > should handle date strings using time comparison
isDateInPast called without timezone - using UTC
isDateInPast called without timezone - using UTC
isDateInPast called without timezone - using UTC
isDateInPast called without timezone - using UTC

stderr | src/utils/__tests__/dateValidation.test.ts > Date Validation Utils > isDateInPast > should handle datetime strings from schedule slots
isDateInPast called without timezone - using UTC
isDateInPast called without timezone - using UTC
isDateInPast called without timezone - using UTC
isDateInPast called without timezone - using UTC

 ‚úì src/utils/__tests__/dateValidation.test.ts (13 tests) 26ms
 ‚úì src/components/__tests__/ConnectionStatusBanner.test.tsx (1 test) 23ms
 ‚úì src/pages/__tests__/SchedulePage.dragDrop.test.tsx (4 tests) 21ms
 ‚úì src/utils/__tests__/timezoneUtils.test.ts (15 tests) 13ms
 ‚úì src/pages/__tests__/SchedulePage.test.tsx (12 tests) 16ms
 ‚úì src/services/__tests__/scheduleConfigService.test.ts (19 tests) 16ms
 ‚úì src/services/__tests__/groupApiService.pendingInvitations.test.ts (13 tests) 12ms
stdout | src/services/__tests__/authService.401redirect.simple.test.ts > AuthService 401 Redirect - Simple Test > Basic Auth Service Functionality > should store redirect path correctly
üöÄ redirectToLogin() called
Current pathname: /schedule
Current path to store: /schedule?test=1
üìç Storing redirect path: /schedule?test=1
üîÄ Clearing auth - React Router will handle redirect

stdout | src/services/__tests__/authService.401redirect.simple.test.ts > AuthService 401 Redirect - Simple Test > Basic Auth Service Functionality > should not store root path as redirect
üöÄ redirectToLogin() called
Current pathname: /
Current path to store: /
üîÄ Clearing auth - React Router will handle redirect

stdout | src/services/__tests__/authService.401redirect.simple.test.ts > AuthService 401 Redirect - Simple Test > Basic Auth Service Functionality > should not store login path as redirect
üöÄ redirectToLogin() called
Current pathname: /login
üîÄ Clearing auth - React Router will handle redirect

stdout | src/services/__tests__/authService.401redirect.simple.test.ts > AuthService 401 Redirect - Simple Test > Redirect Path Logic > should store path: /schedule?test=1
üöÄ redirectToLogin() called
Current pathname: /schedule
Current path to store: /schedule?test=1
üìç Storing redirect path: /schedule?test=1
üîÄ Clearing auth - React Router will handle redirect

stdout | src/services/__tests__/authService.401redirect.simple.test.ts > AuthService 401 Redirect - Simple Test > Redirect Path Logic > should store path: /dashboard
üöÄ redirectToLogin() called
Current pathname: /dashboard
Current path to store: /dashboard
üìç Storing redirect path: /dashboard
üîÄ Clearing auth - React Router will handle redirect

stdout | src/services/__tests__/authService.401redirect.simple.test.ts > AuthService 401 Redirect - Simple Test > Redirect Path Logic > should store path: /groups?id=123
üöÄ redirectToLogin() called
Current pathname: /groups
Current path to store: /groups?id=123
üìç Storing redirect path: /groups?id=123
üîÄ Clearing auth - React Router will handle redirect

stdout | src/services/__tests__/authService.401redirect.simple.test.ts > AuthService 401 Redirect - Simple Test > Redirect Path Logic > should not store path: /
üöÄ redirectToLogin() called
Current pathname: /
Current path to store: /
üîÄ Clearing auth - React Router will handle redirect

stdout | src/services/__tests__/authService.401redirect.simple.test.ts > AuthService 401 Redirect - Simple Test > Redirect Path Logic > should not store path: /login
üöÄ redirectToLogin() called
Current pathname: /login
üîÄ Clearing auth - React Router will handle redirect

 ‚úì src/services/__tests__/authService.401redirect.simple.test.ts (13 tests) 15ms
stdout | clearPKCEData (/workspace/frontend/src/utils/pkceUtils.ts:155:13)
üßπ PKCE data cleared from secure storage
üßπ PKCE data cleared from secure storage
üßπ PKCE data cleared from secure storage
üßπ PKCE data cleared from secure storage
üßπ PKCE data cleared from secure storage
üßπ PKCE data cleared from secure storage
üßπ PKCE data cleared from secure storage
üßπ PKCE data cleared from secure storage
üßπ PKCE data cleared from secure storage
üßπ PKCE data cleared from secure storage

 ‚úì src/utils/__tests__/scheduleKeyConsistency.test.ts (4 tests) 10ms
 ‚úì src/utils/__tests__/pkce-backend-compatibility.test.ts (9 tests) 8ms
 ‚úì src/types/__tests__/family.test.ts (13 tests) 6ms
 ‚úì src/utils/__tests__/capacity.test.ts (16 tests) 5ms
 ‚úì src/hooks/__tests__/usePageState.test.ts (5 tests) 5ms

 Test Files  71 passed (71)
      Tests  946 passed (946)
   Start at  11:42:18
   Duration  25.49s (transform 1.92s, setup 8.23s, collect 15.09s, tests 36.30s, environment 26.39s, prepare 5.04s)

 PASS  Waiting for file changes...
       press h to show help, press q to quit
Cancelling test run. Press CTRL+c again to exit forcefully.

